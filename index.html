<!DOCTYPE html>
<html lang="mr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§∏‡§æ‡§∞‡§£‡•Ä - ‡§∏‡§®‡§æ‡§§‡§® ‡§∏‡§æ‡§ß‡§®‡§æ</title>
    <meta name="description"
        content="‡§∏‡§®‡§æ‡§§‡§® ‡§∏‡§Ç‡§∏‡•ç‡§•‡•á‡§ö‡•ç‡§Ø‡§æ ‡§∂‡§ø‡§ï‡§µ‡§£‡•Ä‡§µ‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§® ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡•á‡§∏‡§æ‡§†‡•Ä ‡§â‡§™‡§Ø‡•Å‡§ï‡•ç‡§§ ‡§∏‡§æ‡§ß‡§®. ‡§ö‡•Å‡§ï‡§æ ‡§®‡•ã‡§Ç‡§¶‡§µ‡§æ, ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ò‡•ç‡§Ø‡§æ ‡§Ü‡§£‡§ø ‡§∏‡•ç‡§µ‡§§‡§É‡§Æ‡§ß‡•Ä‡§≤ ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§Ö‡§®‡•Å‡§≠‡§µ‡§æ.">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#fc3400">
    <link rel="icon" type="image/svg+xml" href="assets/favicon/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <!-- XLSX library removed from sync load to improve performance -->
    <link rel="stylesheet" href="assets/css/main.css">
</head>

<body class="text-slate-900">
    <div id="google_translate_element"></div>
    <!-- Background Audio Element -->
    <!-- REPLACE 'your-song.mp3' WITH YOUR ACTUAL SONG FILE NAME OR URL -->
    <audio id="bgMusic" loop preload="none">
        <source src="assets/audio/Datta_T.mp3" type="audio/mp3">
    </audio>

    <!-- Top Navigation Bar -->
    <nav class="nav-primary border-b border-orange-100 py-4 px-6 sticky top-0 z-50 shadow-sm">
        <div class="max-w-6xl mx-auto flex justify-between items-center relative">
            <div class="flex flex-col items-center gap-0 group relative"
                title="‡§∂‡•ç‡§∞‡•Ä ‡§ó‡•Å‡§∞‡•Å‡§¶‡•á‡§µ ‡§¶‡§§‡•ç‡§§ ‡§®‡§æ‡§Æ‡§ú‡§™ ‡§ö‡§æ‡§≤‡•Ç/‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§≤‡•ã‡§ó‡•ã‡§µ‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§æ">
                <!-- Audio Toggle Button -->
                <button id="audioBtn" class="p-2 rounded-full text-orange-800 hover:bg-orange-200/50 transition-colors"
                    aria-label="Toggle Music">
                    <!-- Muted Icon (Default) -->
                    <svg id="icon-muted" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
                        <line x1="23" y1="9" x2="17" y2="15"></line>
                        <line x1="17" y1="9" x2="23" y2="15"></line>
                    </svg>
                    <!-- Playing/Volume Icon (Hidden) -->
                    <svg id="icon-playing" class="hidden" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                    </svg>
                </button>
                <span id="audioLabel" class="text-[9px] font-bold text-orange-800 leading-none mt-1">
                    ‡§∂‡•ç‡§∞‡•Ä ‡§ó‡•Å‡§∞‡•Å‡§¶‡•á‡§µ ‡§¶‡§§‡•ç‡§§
                </span>
            </div>
            <h1
                class="absolute left-1/2 -translate-x-1/2 text-2xl font-bold text-orange-800 tracking-wide uppercase whitespace-nowrap">
                ‡§∏‡§®‡§æ‡§§‡§® ‡§∏‡§æ‡§ß‡§®‡§æ</h1>
            <button id="menuBtn" class="p-2 hover:bg-orange-200/50 rounded-full transition-colors"
                aria-label="Open Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
                    stroke-linecap="round" stroke-linejoin="round" class="text-orange-800">
                    <circle cx="12" cy="12" r="1" />
                    <circle cx="12" cy="5" r="1" />
                    <circle cx="12" cy="19" r="1" />
                </svg>
            </button>
        </div>
    </nav>

    <!-- Sub Navigation Bar -->
    <nav class="nav-secondary border-b border-blue-100 sticky top-[85px] z-40 shadow-sm">
        <div class="max-w-6xl mx-auto overflow-x-auto hide-scrollbar flex justify-center">
            <ul
                class="flex items-center gap-8 px-6 py-3 whitespace-nowrap text-[11px] md:text-xs font-bold text-blue-800 uppercase tracking-wider">
                <li id="nav-dashboard" class="nav-link cursor-pointer transition-colors pb-0.5">üìä ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°
                </li>
                <li id="nav-wrong" class="nav-link cursor-pointer transition-colors pb-0.5 active-tab">‡§Ö‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§ï‡•É‡§§‡•Ä / ‡§¶‡•ã‡§∑
                </li>
                <li id="nav-decision" class="nav-link cursor-pointer transition-colors pb-0.5">‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø</li>
                <li id="nav-results" class="nav-link cursor-pointer transition-colors pb-0.5">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ / ‡§∏‡§æ‡§ß‡•ç‡§Ø</li>
            </ul>
        </div>
    </nav>

    <!-- Options Modal -->
    <div id="settingsModal" class="fixed inset-0 z-[60] hidden flex items-center justify-center p-4">
        <div id="modalOverlay" class="absolute inset-0 modal-overlay"></div>
        <div
            class="bg-white w-full max-w-sm rounded-3xl shadow-2xl relative z-10 overflow-hidden transform scale-95 transition-transform duration-200">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center">
                <h3 class="text-lg font-bold">‡§Æ‡•á‡§®‡•Ç</h3>
                <button id="closeModal" class="text-slate-400 hover:text-slate-600">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="p-4 space-y-2">
                <div class="p-4 rounded-2xl bg-slate-50 border border-slate-100 mb-2">
                    <label for="langSelect" class="block text-[10px] font-bold text-slate-600 uppercase mb-2">‡§≠‡§æ‡§∑‡§æ
                        ‡§®‡§ø‡§µ‡§°‡§æ</label>
                    <select id="langSelect"
                        class="w-full bg-white border border-slate-200 rounded-xl p-3 text-sm outline-none font-medium">
                        <option value="mr" selected>‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                        <option value="en">English</option>
                        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                        <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
                        <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
                        <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                    </select>
                </div>
                <button id="exportAllBtn"
                    class="w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors text-slate-700 font-semibold text-sm">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3" />
                    </svg>
                    ‡§∏‡§∞‡•ç‡§µ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡§æ (Excel)
                </button>
                <a href="resources/dosh.pdf" target="_blank"
                    class="w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors text-slate-700 font-semibold text-sm">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§Ø‡§æ‡§¶‡•Ä (Dosh List PDF)
                </a>
                <div class="mt-4 p-4 rounded-2xl bg-red-50 border border-red-100">
                    <h4 class="text-xs font-bold text-red-600 uppercase mb-2">‡§Æ‡§¶‡§§ ‡§Ü‡§£‡§ø ‡§Ö‡§≠‡§ø‡§™‡•ç‡§∞‡§æ‡§Ø</h4>
                    <p class="text-xs text-slate-700 mb-3 leading-relaxed font-medium">
                        ‡§ï‡§æ‡§π‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§Ø‡•á‡§§ ‡§Ü‡§π‡•á? ‡§à‡§Æ‡•á‡§≤‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Ø‡§æ ‡•© ‡§∏‡•ã‡§™‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡§æ‡§Ç‡§ö‡•Ä ‡§â‡§§‡•ç‡§§‡§∞‡•á ‡§¶‡•ç‡§Ø‡§æ:
                    </p>
                    <div class="text-[10px] space-y-2 text-slate-600 mb-4 bg-white p-3 rounded-xl border border-red-50">
                        <div>
                            <p class="font-bold text-slate-800">‡•ß. ‡§ï‡§æ‡§Ø ‡§Ö‡§°‡§ö‡§£ ‡§Ü‡§≤‡•Ä?</p>
                            <p class="text-[9px] text-slate-500">‡§â‡§¶‡§æ: "‡§∏‡•á‡§µ‡•ç‡§π ‡§¨‡§ü‡§® ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§ ‡§®‡§æ‡§π‡•Ä‡§Ø‡•á."</p>
                        </div>
                        <div>
                            <p class="font-bold text-slate-800">‡•®. ‡§ï‡•ã‡§£‡§§‡§æ ‡§´‡•ã‡§® / ‡§∏‡§Ç‡§ó‡§£‡§ï ‡§µ‡§æ‡§™‡§∞‡§§‡§æ‡§Ø?</p>
                            <p class="text-[9px] text-slate-500">‡§â‡§¶‡§æ: "‡§∏‡•Ö‡§Æ‡§∏‡§Ç‡§ó" ‡§ï‡§ø‡§Ç‡§µ‡§æ "‡§Ü‡§Ø‡§´‡•ã‡§®"</p>
                        </div>
                        <div>
                            <p class="font-bold text-slate-800">‡•©. ‡§∂‡§ï‡•ç‡§Ø ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§´‡•ã‡§ü‡•ã (Screenshot) ‡§ú‡•ã‡§°‡§æ</p>
                            <p class="text-[9px] text-slate-500 italic">‡§Ø‡§æ‡§Æ‡•Å‡§≥‡•á ‡§Ü‡§Æ‡•ç‡§π‡•Ä ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡•ß‡•¶ ‡§™‡§ü ‡§µ‡•á‡§ó‡§æ‡§®‡•á ‡§∏‡•ã‡§°‡§µ‡•Ç ‡§∂‡§ï‡§§‡•ã!</p>
                        </div>
                    </div>
                    <div class="flex flex-col gap-2">
                        <a href="mailto:mayurmyana111@gmail.com?subject=Problem Report - Sanatan App&body=Hello Mayur,%0A%0AI found an issue in the app:%0A%0A1. What happened? (‡§ï‡§æ‡§Ø ‡§ù‡§æ‡§≤‡•á?): %0A%0A2. I am using this phone/computer (‡§Æ‡•Ä ‡§π‡§æ ‡§´‡•ã‡§® ‡§µ‡§æ‡§™‡§∞‡§§ ‡§Ü‡§π‡•á): %0A%0A(Please attach a photo if possible / ‡§∂‡§ï‡•ç‡§Ø ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§´‡•ã‡§ü‡•ã ‡§ú‡•ã‡§°‡§æ)%0A"
                            class="flex items-center justify-center gap-2 bg-red-600 text-white py-3 rounded-xl hover:bg-slate-900 font-bold text-xs transition-all shadow-md active:scale-95">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                                <polyline points="22,6 12,13 2,6" />
                            </svg>
                            ‡§Æ‡•á‡§≤ ‡•≤‡§™‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§â‡§ò‡§°‡§æ
                        </a>
                        <a target="_blank"
                            href="https://mail.google.com/mail/?view=cm&fs=1&to=mayurmyana111@gmail.com&su=Problem%20Report%20-%20Sanatan%20App&body=Hello%20Mayur,%0A%0AI%20found%20an%20issue%20in%20the%20app:%0A%0A1.%20What%20happened?%20(‡§ï‡§æ‡§Ø%20‡§ù‡§æ‡§≤‡•á?):%20%0A%0A2.%20I%20am%20using%20this%20phone/computer%20(‡§Æ‡•Ä%20‡§π‡§æ%20‡§´‡•ã‡§®%20‡§µ‡§æ‡§™‡§∞‡§§%20‡§Ü‡§π‡•á):%20%0A%0A(Please%20attach%20a%20photo%20if%20possible%20/%20‡§∂‡§ï‡•ç‡§Ø%20‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏%20‡§´‡•ã‡§ü‡•ã%20‡§ú‡•ã‡§°‡§æ)%0A"
                            class="flex items-center justify-center gap-2 bg-white border border-slate-200 text-slate-700 py-3 rounded-xl hover:bg-slate-50 font-bold text-xs transition-all shadow-sm active:scale-95">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                            </svg>
                            ‡§ï‡•ç‡§∞‡•ã‡§Æ ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§â‡§ò‡§°‡§æ
                        </a>
                    </div>
                </div>
            </div>
            <div class="bg-slate-50 p-4 text-center">
                <p class="text-[10px] text-slate-600 font-bold uppercase tracking-widest">‡§Ü‡§µ‡•É‡§§‡•ç‡§§‡•Ä 2.0.1</p>
            </div>
        </div>
    </div>

    <main>
        <!-- DASHBOARD PAGE -->
        <div id="page-dashboard" class="page-content max-w-6xl mx-auto px-4 py-8">
            <header class="mb-8">
                <h2 class="text-2xl font-extrabold tracking-tight text-slate-900">üìä ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§°‡•Ö‡§∂‡§¨‡•ã‡§∞‡•ç‡§°</h2>
                <p class="text-slate-600 text-sm italic">"‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§µ‡§æ‡§∏‡§æ‡§ö‡§æ ‡§Ü‡§¢‡§æ‡§µ‡§æ ‡§ò‡•ç‡§Ø‡§æ ‡§Ü‡§£‡§ø ‡§µ‡§æ‡§¢ ‡§™‡§π‡§æ"</p>
            </header>

            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <!-- Total Wrong Things -->
                <div
                    class="bg-gradient-to-br from-red-50 to-red-100 rounded-3xl shadow-lg border border-red-200 p-6 hover:shadow-xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="bg-red-500 p-3 rounded-2xl">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white"
                                stroke-width="2.5">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="15" y1="9" x2="9" y2="15"></line>
                                <line x1="9" y1="9" x2="15" y2="15"></line>
                            </svg>
                        </div>
                        <span class="text-xs font-bold text-red-600 uppercase tracking-wider">‡§è‡§ï‡•Ç‡§£ ‡§¶‡•ã‡§∑</span>
                    </div>
                    <div class="text-4xl font-extrabold text-red-700" id="stat-total-wrong">0</div>
                    <p class="text-xs text-red-600 mt-2 font-semibold">‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•á‡§≤‡•ç‡§Ø‡§æ ‡§ö‡•Å‡§ï‡§æ</p>
                </div>

                <!-- Total Decisions -->
                <div
                    class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-3xl shadow-lg border border-blue-200 p-6 hover:shadow-xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="bg-blue-500 p-3 rounded-2xl">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white"
                                stroke-width="2.5">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                        </div>
                        <span class="text-xs font-bold text-blue-600 uppercase tracking-wider">‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø</span>
                    </div>
                    <div class="text-4xl font-extrabold text-blue-700" id="stat-total-decisions">0</div>
                    <p class="text-xs text-blue-600 mt-2 font-semibold">‡§ò‡•á‡§§‡§≤‡•á‡§≤‡•á ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø</p>
                </div>

                <!-- Total Results -->
                <div
                    class="bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-3xl shadow-lg border border-emerald-200 p-6 hover:shadow-xl transition-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <div class="bg-emerald-500 p-3 rounded-2xl">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white"
                                stroke-width="2.5">
                                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                                <path d="M4 22h16"></path>
                                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                            </svg>
                        </div>
                        <span class="text-xs font-bold text-emerald-600 uppercase tracking-wider">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ</span>
                    </div>
                    <div class="text-4xl font-extrabold text-emerald-700" id="stat-total-results">0</div>
                    <p class="text-xs text-emerald-600 mt-2 font-semibold">‡§Ö‡§®‡•Å‡§≠‡§µ‡§≤‡•á‡§≤‡•á ‡§¨‡§¶‡§≤</p>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <!-- Daily Activity Chart -->
                <div class="bg-white rounded-3xl shadow-xl border border-slate-100 p-6">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="w-2 h-6 bg-blue-500 rounded-full"></span>
                        ‡§¶‡•à‡§®‡§Ç‡§¶‡§ø‡§® ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ï‡§≤‡§æ‡§™ (‡§∂‡•á‡§µ‡§ü‡§ö‡•á 7 ‡§¶‡§ø‡§µ‡§∏)
                    </h3>
                    <div class="h-64">
                        <canvas id="dailyActivityChart"></canvas>
                    </div>
                </div>

                <!-- Most Used Dosh Chart -->
                <div class="bg-white rounded-3xl shadow-xl border border-slate-100 p-6">
                    <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                        <span class="w-2 h-6 bg-red-500 rounded-full"></span>
                        ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï ‡§Ü‡§¢‡§≥‡§£‡§æ‡§∞‡•á ‡§¶‡•ã‡§∑ (Top 5)
                    </h3>
                    <div class="h-64 flex items-center justify-center">
                        <canvas id="doshPieChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Progress Insights -->
            <div
                class="bg-gradient-to-br from-orange-50 to-yellow-50 rounded-3xl shadow-xl border border-orange-200 p-8">
                <h3 class="text-lg font-bold text-orange-800 mb-4 flex items-center gap-2">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
                    </svg>
                    ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§Ö‡§Ç‡§§‡§∞‡•ç‡§¶‡•É‡§∑‡•ç‡§ü‡•Ä
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-2xl p-4 border border-orange-100">
                        <p class="text-xs font-bold text-orange-700 uppercase mb-2">‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡§æ ‡§¶‡§∞</p>
                        <div class="flex items-baseline gap-2">
                            <span class="text-3xl font-extrabold text-orange-700" id="improvement-rate">0%</span>
                            <span class="text-xs text-slate-600">(‡§®‡§ø‡§∞‡•ç‡§£‡§Ø / ‡§¶‡•ã‡§∑)</span>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl p-4 border border-orange-100">
                        <p class="text-xs font-bold text-orange-700 uppercase mb-2">‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§¶‡§∞</p>
                        <div class="flex items-baseline gap-2">
                            <span class="text-3xl font-extrabold text-orange-700" id="transformation-rate">0%</span>
                            <span class="text-xs text-slate-600">(‡§™‡§∞‡§ø‡§£‡§æ‡§Æ / ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø)</span>
                        </div>
                    </div>
                </div>
                <div class="mt-6 p-4 bg-white rounded-2xl border border-orange-100">
                    <p class="text-sm font-semibold text-slate-700 mb-2">üéØ ‡§Ü‡§ú‡§ö‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂:</p>
                    <p class="text-sm text-slate-600 italic leading-relaxed" id="daily-message">
                        "‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§¶‡§ø‡§µ‡§∏ ‡§Ü‡§§‡•ç‡§Æ-‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡•á‡§ö‡•Ä ‡§®‡§µ‡•Ä‡§® ‡§∏‡§Ç‡§ß‡•Ä ‡§Ü‡§π‡•á. ‡§Ü‡§™‡§≤‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§ö‡§æ‡§≤‡•Ç ‡§†‡•á‡§µ‡§æ!"
                    </p>
                </div>
            </div>

            <!-- Swabhavdosh Level Tracking -->
            <div class="bg-white rounded-3xl shadow-xl border border-slate-100 p-8 mt-8">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-lg font-bold text-slate-800 flex items-center gap-2">
                        <span class="w-2 h-6 bg-purple-500 rounded-full"></span>
                        ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ‡§¶‡•ã‡§∑ ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ ‡§ü‡•ç‡§∞‡•Ö‡§ï ‡§ï‡§∞‡§æ
                    </h3>
                    <button id="saveDoshLevels"
                        class="px-4 py-2 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-all shadow-lg">
                        ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ
                    </button>
                </div>
                <p class="text-sm text-slate-600 mb-6 italic">‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ ‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ 5 ‡§¶‡•ã‡§∑‡§æ‡§Ç‡§ö‡•Ä ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ ‡§ü‡•ç‡§∞‡•Ö‡§ï ‡§ï‡§∞‡§æ (‡§â‡§ö‡•ç‡§ö, ‡§Æ‡§ß‡•ç‡§Ø‡§Æ,
                    ‡§ï‡§Æ‡•Ä)
                </p>

                <div class="overflow-x-auto">
                    <table class="w-full border-2 border-slate-300 rounded-xl overflow-hidden table-fixed">
                        <colgroup>
                            <col class="w-16">
                            <col class="w-48 md:w-64">
                            <col class="w-16">
                            <col class="w-16">
                            <col class="w-16">
                        </colgroup>
                        <thead>
                            <tr class="bg-slate-100">
                                <th
                                    class="border-2 border-slate-300 px-2 md:px-4 py-3 text-center text-xs md:text-sm font-bold text-slate-700">
                                    ‡§Ö‡§®‡•Å</th>
                                <th
                                    class="border-2 border-slate-300 px-2 md:px-4 py-3 text-center text-xs md:text-sm font-bold text-slate-700">
                                    ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ‡§¶‡•ã‡§∑</th>
                                <th colspan="3"
                                    class="border-2 border-slate-300 px-2 md:px-4 py-3 text-center text-xs md:text-sm font-bold text-slate-700">
                                    ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ‡§¶‡•ã‡§∑ ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ</th>
                            </tr>
                            <tr class="bg-slate-50">
                                <th class="border-2 border-slate-300 px-2 md:px-4 py-2"></th>
                                <th class="border-2 border-slate-300 px-2 md:px-4 py-2"></th>
                                <th
                                    class="border-2 border-slate-300 px-2 md:px-4 py-2 text-center text-[10px] md:text-xs font-bold text-slate-600">
                                    ‡§§‡•Ä‡§µ‡•ç‡§∞</th>
                                <th
                                    class="border-2 border-slate-300 px-2 md:px-4 py-2 text-center text-[10px] md:text-xs font-bold text-slate-600">
                                    ‡§Æ‡§ß‡•ç‡§Ø‡§Æ</th>
                                <th
                                    class="border-2 border-slate-300 px-2 md:px-4 py-2 text-center text-[10px] md:text-xs font-bold text-slate-600">
                                    ‡§Æ‡§Ç‡§¶</th>
                            </tr>
                        </thead>
                        <tbody id="doshLevelTableBody">
                            <!-- Rows will be generated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- WRONG THINGS PAGE -->
        <div id="page-wrong" class="page-content active max-w-6xl mx-auto px-4 py-8">
            <header class="mb-8">
                <h2 class="text-2xl font-extrabold tracking-tight text-slate-900">‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§®‡•ã‡§Ç‡§¶</h2>
                <p class="text-slate-600 text-sm italic">"‡§Ü‡§§‡•ç‡§Æ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§π‡•á ‡§∂‡•Å‡§¶‡•ç‡§ß‡§§‡•á‡§ö‡•á ‡§™‡§π‡§ø‡§≤‡•á ‡§™‡§æ‡§ä‡§≤ ‡§Ü‡§π‡•á."</p>
            </header>
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-4">
                    <div class="bg-white px-6 pt-6 pb-8 rounded-3xl shadow-xl border border-slate-100 h-fit">
                        <h2 class="text-lg font-bold mb-5 flex items-center gap-2">
                            <span class="w-2 h-6 bg-red-500 rounded-full"></span> ‡§ö‡•Ç‡§ï ‡§®‡•ã‡§Ç‡§¶‡§µ‡§æ
                        </h2>
                        <form id="wrongForm" class="space-y-4">
                            <input type="hidden" id="wrongEditId">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="wrongDateInput"
                                        class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§¶‡§ø‡§®‡§æ‡§Ç‡§ï</label>
                                    <input type="date" id="wrongDateInput" required
                                        class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none">
                                </div>
                                <div>
                                    <label for="wrongTimeInput"
                                        class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§ï‡§æ‡§≤‡§æ‡§µ‡§ß‡•Ä</label>
                                    <input type="text" id="wrongTimeInput" required placeholder="HH:MM"
                                        class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑
                                    - ‡§è‡§ï‡§æ‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ú‡§æ‡§∏‡•ç‡§§ ‡§®‡§ø‡§µ‡§°‡•Ç ‡§∂‡§ï‡§§‡§æ</label>

                                <div class="multi-select-container">
                                    <div id="doshTrigger"
                                        class="multi-select-trigger w-full rounded-xl border-slate-200 bg-slate-50 border focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none">
                                        <span class="multi-select-placeholder">‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§°‡§æ...</span>
                                    </div>

                                    <div id="doshDropdown" class="multi-select-dropdown">
                                        <div class="multi-select-search">
                                            <input type="text" id="doshSearch" placeholder="üîç ‡§¶‡•ã‡§∑ ‡§∂‡•ã‡§ß‡§æ..."
                                                autocomplete="off">
                                        </div>

                                        <div class="multi-select-options" id="doshOptions">
                                            <div class="multi-select-group-label">‡§∑‡§°‡•ç‡§∞‡§ø‡§™‡•Ç
                                            </div>
                                            <div class="multi-select-option" data-value="Desire (Kama)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_desire" value="‡§ï‡§æ‡§Æ">
                                                <label for="dosh_desire">‡§ï‡§æ‡§Æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Anger (Krodha)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_anger" value="‡§ï‡•ç‡§∞‡•ã‡§ß / ‡§∞‡§æ‡§ó">
                                                <label for="dosh_anger">‡§ï‡•ç‡§∞‡•ã‡§ß / ‡§∞‡§æ‡§ó</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Greed (Lobha)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_greed" value="‡§≤‡•ã‡§≠">
                                                <label for="dosh_greed">‡§≤‡•ã‡§≠</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Attachment (Moha)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_attachment" value="‡§Æ‡•ã‡§π">
                                                <label for="dosh_attachment">‡§Æ‡•ã‡§π</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Arrogance (Mada)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_arrogance" value="‡§Æ‡§¶ / ‡§§‡§æ‡§†‡§æ">
                                                <label for="dosh_arrogance">‡§Æ‡§¶ / ‡§§‡§æ‡§†‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Jealousy (Matsarya)"
                                                data-group="shadripu">
                                                <input type="checkbox" id="dosh_jealousy" value="‡§Æ‡§§‡•ç‡§∏‡§∞ / ‡§¶‡•ç‡§µ‡•á‡§∑">
                                                <label for="dosh_jealousy">‡§Æ‡§§‡•ç‡§∏‡§∞ / ‡§¶‡•ç‡§µ‡•á‡§∑</label>
                                            </div>

                                            <div class="multi-select-group-label">‡§á‡§§‡§∞‡§æ‡§Ç‡§®‡§æ ‡§§‡•ç‡§∞‡§æ‡§∏‡§¶‡§æ‡§Ø‡§ï</div>
                                            <div class="multi-select-option" data-value="Short-tempered"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_shorttempered" value="‡§∂‡•Ä‡§ò‡•ç‡§∞‡§ï‡•ã‡§™‡•Ä‡§™‡§£‡§æ">
                                                <label for="dosh_shorttempered">‡§∂‡•Ä‡§ò‡•ç‡§∞‡§ï‡•ã‡§™‡•Ä‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Irritable"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_irritable" value="‡§ö‡§ø‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ">
                                                <label for="dosh_irritable">‡§ö‡§ø‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Quarrelsome"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_quarrelsome" value="‡§≠‡§æ‡§Ç‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ">
                                                <label for="dosh_quarrelsome">‡§≠‡§æ‡§Ç‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Destructive"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_destructive" value="‡§µ‡§ø‡§ß‡•ç‡§µ‡§Ç‡§∏‡§ï‡§µ‡•É‡§§‡•ç‡§§‡•Ä">
                                                <label for="dosh_destructive">‡§µ‡§ø‡§ß‡•ç‡§µ‡§Ç‡§∏‡§ï‡§µ‡•É‡§§‡•ç‡§§‡•Ä</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Looking down upon others"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_lookingdown"
                                                    value="‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§§‡•Å‡§ö‡•ç‡§õ ‡§≤‡•á‡§ñ‡§£‡•á">
                                                <label for="dosh_lookingdown">‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§§‡•Å‡§ö‡•ç‡§õ
                                                    ‡§≤‡•á‡§ñ‡§£‡•á</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Pointing mistakes of others"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_pointing" value="‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•ç‡§Ø‡§æ ‡§ö‡•Å‡§ï‡§æ ‡§∂‡•ã‡§ß‡§£‡•á">
                                                <label for="dosh_pointing">‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•ç‡§Ø‡§æ ‡§ö‡•Å‡§ï‡§æ
                                                    ‡§∂‡•ã‡§ß‡§£‡•á</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Criticism"
                                                data-group="affecting-others">
                                                <input type="checkbox" id="dosh_criticism" value="‡§ü‡•Ä‡§ï‡§æ ‡§ï‡§∞‡§£‡•á">
                                                <label for="dosh_criticism">‡§ü‡•Ä‡§ï‡§æ ‡§ï‡§∞‡§£‡•á</label>
                                            </div>

                                            <div class="multi-select-group-label">‡§∏‡•ç‡§µ‡§§‡§É‡§∏‡§æ‡§†‡•Ä ‡§§‡•ç‡§∞‡§æ‡§∏‡§¶‡§æ‡§Ø‡§ï</div>
                                            <div class="multi-select-option" data-value="Egoistic"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_egoistic" value="‡§Ö‡§π‡§Ç‡§ï‡§æ‡§∞ / ‡§ó‡§∞‡•ç‡§µ">
                                                <label for="dosh_egoistic">‡§Ö‡§π‡§Ç‡§ï‡§æ‡§∞ / ‡§ó‡§∞‡•ç‡§µ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Emotional"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_emotional" value="‡§≠‡§æ‡§µ‡§µ‡§ø‡§µ‡§∂‡§§‡§æ">
                                                <label for="dosh_emotional">‡§≠‡§æ‡§µ‡§µ‡§ø‡§µ‡§∂‡§§‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Fearful"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_fearful" value="‡§≠‡•Ä‡§§‡•Ä">
                                                <label for="dosh_fearful">‡§≠‡•Ä‡§§‡•Ä</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lying / Dishonesty"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_lying"
                                                    value="‡§ñ‡•ã‡§ü‡•á ‡§¨‡•ã‡§≤‡§£‡•á / ‡§Ö‡§™‡•ç‡§∞‡§æ‡§Æ‡§æ‡§£‡§ø‡§ï‡§™‡§£‡§æ">
                                                <label for="dosh_lying">‡§ñ‡•ã‡§ü‡•á ‡§¨‡•ã‡§≤‡§£‡•á /
                                                    ‡§Ö‡§™‡•ç‡§∞‡§æ‡§Æ‡§æ‡§£‡§ø‡§ï‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Suspicious"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_suspicious" value="‡§∏‡§Ç‡§∂‡§Ø‡•Ä‡§µ‡•É‡§§‡•ç‡§§‡•Ä">
                                                <label for="dosh_suspicious">‡§∏‡§Ç‡§∂‡§Ø‡•Ä‡§µ‡•É‡§§‡•ç‡§§‡•Ä</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Ungrateful"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_ungrateful" value="‡§ï‡•É‡§§‡§ò‡•ç‡§®‡§™‡§£‡§æ">
                                                <label for="dosh_ungrateful">‡§ï‡•É‡§§‡§ò‡•ç‡§®‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="No repentance"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_norepentance" value="‡§™‡§∂‡•ç‡§ö‡§æ‡§§‡•ç‡§§‡§æ‡§™ ‡§® ‡§π‡•ã‡§£‡•á">
                                                <label for="dosh_norepentance">‡§™‡§∂‡•ç‡§ö‡§æ‡§§‡•ç‡§§‡§æ‡§™ ‡§®
                                                    ‡§π‡•ã‡§£‡•á</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of seriousness"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_lackseriousness"
                                                    value="‡§ó‡§æ‡§Ç‡§≠‡•Ä‡§∞‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ">
                                                <label for="dosh_lackseriousness">‡§ó‡§æ‡§Ç‡§≠‡•Ä‡§∞‡•ç‡§Ø‡§æ‡§ö‡§æ
                                                    ‡§Ö‡§≠‡§æ‡§µ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of planning"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_lackplanning" value="‡§®‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ">
                                                <label for="dosh_lackplanning">‡§®‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Forgetful"
                                                data-group="affecting-self">
                                                <input type="checkbox" id="dosh_forgetful" value="‡§µ‡§ø‡§∏‡§∞‡§≠‡•ã‡§≥‡•á‡§™‡§£‡§æ">
                                                <label for="dosh_forgetful">‡§µ‡§ø‡§∏‡§∞‡§≠‡•ã‡§≥‡•á‡§™‡§£‡§æ</label>
                                            </div>

                                            <div class="multi-select-group-label">‡§ï‡•É‡§§‡•Ä ‡§Ü‡§£‡§ø ‡§µ‡§∞‡•ç‡§§‡§®</div>
                                            <div class="multi-select-option" data-value="Laziness"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_laziness" value="‡§Ü‡§≥‡§∏">
                                                <label for="dosh_laziness">‡§Ü‡§≥‡§∏</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Hasty" data-group="behavioral">
                                                <input type="checkbox" id="dosh_hasty"
                                                    value="‡§ò‡§æ‡§à‡§ò‡§æ‡§à‡§®‡•á ‡§ï‡§∞‡§£‡•á / ‡§â‡§§‡§æ‡§µ‡§≥‡•á‡§™‡§£‡§æ">
                                                <label for="dosh_hasty">‡§ò‡§æ‡§à‡§ò‡§æ‡§à‡§®‡•á ‡§ï‡§∞‡§£‡•á /
                                                    ‡§â‡§§‡§æ‡§µ‡§≥‡•á‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Carelessness"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_carelessness" value="‡§®‡§ø‡§∑‡•ç‡§ï‡§æ‡§≥‡§ú‡•Ä‡§™‡§£‡§æ">
                                                <label for="dosh_carelessness">‡§®‡§ø‡§∑‡•ç‡§ï‡§æ‡§≥‡§ú‡•Ä‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Irresponsible"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_irresponsible" value="‡§¨‡•á‡§ú‡§¨‡§æ‡§¨‡§¶‡§æ‡§∞‡§™‡§£‡§æ">
                                                <label for="dosh_irresponsible">‡§¨‡•á‡§ú‡§¨‡§æ‡§¨‡§¶‡§æ‡§∞‡§™‡§£‡§æ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Disobedience"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_disobedience" value="‡§Ö‡§µ‡§ú‡•ç‡§û‡§æ ‡§ï‡§∞‡§£‡•á">
                                                <label for="dosh_disobedience">‡§Ö‡§µ‡§ú‡•ç‡§û‡§æ ‡§ï‡§∞‡§£‡•á</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Talking unnecessarily"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_talking" value="‡§µ‡§ø‡§®‡§æ‡§ï‡§æ‡§∞‡§£ ‡§¨‡•ã‡§≤‡§£‡•á">
                                                <label for="dosh_talking">‡§µ‡§ø‡§®‡§æ‡§ï‡§æ‡§∞‡§£ ‡§¨‡•ã‡§≤‡§£‡•á</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Narrow-mindedness"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_narrowminded" value="‡§∏‡§Ç‡§ï‡•Å‡§ö‡§ø‡§§‡§µ‡•É‡§§‡•ç‡§§‡•Ä">
                                                <label for="dosh_narrowminded">‡§∏‡§Ç‡§ï‡•Å‡§ö‡§ø‡§§‡§µ‡•É‡§§‡•ç‡§§‡•Ä</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Poor decision making"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_poordecision"
                                                    value="‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡•á‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ">
                                                <label for="dosh_poordecision">‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡•á‡§ö‡§æ
                                                    ‡§Ö‡§≠‡§æ‡§µ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lacking confidence"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_lackconfidence"
                                                    value="‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ">
                                                <label for="dosh_lackconfidence">‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏‡§æ‡§ö‡§æ
                                                    ‡§Ö‡§≠‡§æ‡§µ</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Overspending"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_overspending" value="‡§â‡§ß‡§≥‡§™‡§ü‡•ç‡§ü‡•Ä">
                                                <label for="dosh_overspending">‡§â‡§ß‡§≥‡§™‡§ü‡•ç‡§ü‡•Ä</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Not systematic"
                                                data-group="behavioral">
                                                <input type="checkbox" id="dosh_notsystematic" value="‡§Ö‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§‡§™‡§£‡§æ">
                                                <label for="dosh_notsystematic">‡§Ö‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§‡§™‡§£‡§æ</label>
                                            </div>

                                            <div class="multi-select-group-label">‡§Ö‡§π‡§Ç‡§ö‡•á ‡§™‡•à‡§≤‡•Ç (Aspects of Ego)</div>
                                            <div class="multi-select-option" data-value="Speaking authoritatively"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_authoritative"
                                                    value="‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§µ‡§æ‡§£‡•Ä‡§®‡•á ‡§¨‡•ã‡§≤‡§£‡•á (Speaking authoritatively)">
                                                <label for="ego_authoritative">‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§µ‡§æ‡§£‡•Ä‡§®‡•á ‡§¨‡•ã‡§≤‡§£‡•á (Speaking
                                                    authoritatively)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Attracting attention"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_attention"
                                                    value="‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•á ‡§≤‡§ï‡•ç‡§∑ ‡§µ‡•á‡§ß‡•Ç‡§® ‡§ò‡•á‡§£‡•á (Attracting attention)">
                                                <label for="ego_attention">‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•á ‡§≤‡§ï‡•ç‡§∑ ‡§µ‡•á‡§ß‡•Ç‡§® ‡§ò‡•á‡§£‡•á (Attracting
                                                    attention)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Having expectations"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_expectations"
                                                    value="‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Having expectations)">
                                                <label for="ego_expectations">‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Having expectations)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Taking doership"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_doership"
                                                    value="‡§ï‡§∞‡•ç‡§§‡•á‡§™‡§£‡§æ ‡§ò‡•á‡§£‡•á (Taking doership)">
                                                <label for="ego_doership">‡§ï‡§∞‡•ç‡§§‡•á‡§™‡§£‡§æ ‡§ò‡•á‡§£‡•á (Taking doership)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Thinking one knows more"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_knowsmore"
                                                    value="‡§∏‡•ç‡§µ‡§§‡§É‡§≤‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡§≥‡§§‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á (Thinking one knows more)">
                                                <label for="ego_knowsmore">‡§∏‡•ç‡§µ‡§§‡§É‡§≤‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡§≥‡§§‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á (Thinking one
                                                    knows more)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Admitting mistake"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_notadmitting"
                                                    value="‡§ö‡•Ç‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§® ‡§ï‡§∞‡§£‡•á (Not admitting mistakes)">
                                                <label for="ego_notadmitting">‡§ö‡•Ç‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§® ‡§ï‡§∞‡§£‡•á (Not admitting
                                                    mistakes)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of perseverance"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_perseverance"
                                                    value="‡§ö‡§ø‡§ï‡§æ‡§ü‡•Ä‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of perseverance)">
                                                <label for="dosh_perseverance">‡§ö‡§ø‡§ï‡§æ‡§ü‡•Ä‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of
                                                    perseverance)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Solitariness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_solitariness"
                                                    value="‡§è‡§ï‡§≤‡§ï‡•ã‡§Ç‡§°‡•á‡§™‡§£‡§æ (Solitariness)">
                                                <label for="dosh_solitariness">‡§è‡§ï‡§≤‡§ï‡•ã‡§Ç‡§°‡•á‡§™‡§£‡§æ (Solitariness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Prejudiced"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_prejudiced"
                                                    value="‡§™‡•Ç‡§∞‡•ç‡§µ‡§ó‡•ç‡§∞‡§π‡§¶‡•Ç‡§∑‡§ø‡§§ ‡§Ö‡§∏‡§£‡•á (Being prejudiced)">
                                                <label for="dosh_prejudiced">‡§™‡•Ç‡§∞‡•ç‡§µ‡§ó‡•ç‡§∞‡§π‡§¶‡•Ç‡§∑‡§ø‡§§ ‡§Ö‡§∏‡§£‡•á (Being
                                                    prejudiced)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Unreasonableness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_unreasonable"
                                                    value="‡§Ö‡§∏‡§Æ‡§Ç‡§ú‡§∏‡§™‡§£‡§æ (Unreasonableness)">
                                                <label for="dosh_unreasonable">‡§Ö‡§∏‡§Æ‡§Ç‡§ú‡§∏‡§™‡§£‡§æ (Unreasonableness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of tact"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_tactless"
                                                    value="‡§ö‡§æ‡§§‡•Å‡§∞‡•ç‡§Ø ‡§®‡§∏‡§£‡•á (Lack of tact)">
                                                <label for="dosh_tactless">‡§ö‡§æ‡§§‡•Å‡§∞‡•ç‡§Ø ‡§®‡§∏‡§£‡•á (Lack of tact)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Unfaithfulness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_unfaithful"
                                                    value="‡§®‡§ø‡§∑‡•ç‡§†‡•á‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unfaithfulness)">
                                                <label for="dosh_unfaithful">‡§®‡§ø‡§∑‡•ç‡§†‡•á‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unfaithfulness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Bribery"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_bribery"
                                                    value="‡§≤‡§æ‡§ö ‡§ò‡•á‡§£‡•á ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§¶‡•á‡§£‡•á (Bribery)">
                                                <label for="dosh_bribery">‡§≤‡§æ‡§ö ‡§ò‡•á‡§£‡•á ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§¶‡•á‡§£‡•á (Bribery)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Showiness" data-group="ego">
                                                <input type="checkbox" id="ego_showiness" value="‡§¶‡§ø‡§ñ‡§æ‡§ä‡§™‡§£‡§æ (Showiness)">
                                                <label for="ego_showiness">‡§¶‡§ø‡§ñ‡§æ‡§ä‡§™‡§£‡§æ (Showiness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Insisting on one's way"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_insisting"
                                                    value="‡§Æ‡•Ä ‡§Æ‡•ç‡§π‡§£‡§§‡•ã ‡§§‡§∏‡•á‡§ö ‡§ù‡§æ‡§≤‡•á ‡§™‡§æ‡§π‡§ø‡§ú‡•á (Insisting on one's way)">
                                                <label for="ego_insisting">‡§Æ‡•Ä ‡§Æ‡•ç‡§π‡§£‡§§‡•ã ‡§§‡§∏‡•á‡§ö ‡§ù‡§æ‡§≤‡•á ‡§™‡§æ‡§π‡§ø‡§ú‡•á (Insisting on
                                                    one's way)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Comparing" data-group="ego">
                                                <input type="checkbox" id="ego_comparing"
                                                    value="‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡§£‡•á (Comparing)">
                                                <label for="ego_comparing">‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡§£‡•á (Comparing)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Seeking praise"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_praise"
                                                    value="‡§ï‡•å‡§§‡•Å‡§ï‡§æ‡§ö‡•Ä ‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Expecting praise)">
                                                <label for="ego_praise">‡§ï‡•å‡§§‡•Å‡§ï‡§æ‡§ö‡•Ä ‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Expecting praise)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Self-willed behavior"
                                                data-group="ego">
                                                <input type="checkbox" id="ego_selfwilled"
                                                    value="‡§Æ‡§®‡§æ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•á ‡§µ‡§æ‡§ó‡§£‡•á (Self-willed behavior)">
                                                <label for="ego_selfwilled">‡§Æ‡§®‡§æ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•á ‡§µ‡§æ‡§ó‡§£‡•á (Self-willed
                                                    behavior)</label>
                                            </div>

                                            <div class="multi-select-group-label">‡§á‡§§‡§∞ ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ‡§¶‡•ã‡§∑ (More Defects)</div>
                                            <div class="multi-select-option" data-value="Worrying"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_worrying" value="‡§ï‡§æ‡§≥‡§ú‡•Ä ‡§ï‡§∞‡§£‡•á (Worrying)">
                                                <label for="dosh_worrying">‡§ï‡§æ‡§≥‡§ú‡•Ä ‡§ï‡§∞‡§£‡•á (Worrying)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Anxiety"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_anxiety" value="‡§ö‡§ø‡§Ç‡§§‡§æ‡§§‡•Å‡§∞‡§§‡§æ (Anxiety)">
                                                <label for="dosh_anxiety">‡§ö‡§ø‡§Ç‡§§‡§æ‡§§‡•Å‡§∞‡§§‡§æ (Anxiety)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Rudeness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_rudeness" value="‡§â‡§ß‡•ç‡§¶‡§ü‡§™‡§£‡§æ (Rudeness)">
                                                <label for="dosh_rudeness">‡§â‡§ß‡•ç‡§¶‡§ü‡§™‡§£‡§æ (Rudeness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of tolerance"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_tolerance"
                                                    value="‡§∏‡§π‡§®‡§∂‡•Ä‡§≤‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of tolerance)">
                                                <label for="dosh_tolerance">‡§∏‡§π‡§®‡§∂‡•Ä‡§≤‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of tolerance)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Stubbornness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_stubborn"
                                                    value="‡§π‡§ü‡•ç‡§ü‡•Ä‡§™‡§£‡§æ (Stubbornness)">
                                                <label for="dosh_stubborn">‡§π‡§ü‡•ç‡§ü‡•Ä‡§™‡§£‡§æ (Stubbornness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Selfishness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_selfish"
                                                    value="‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•Ä‡§™‡§£‡§æ (Selfishness)">
                                                <label for="dosh_selfish">‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•Ä‡§™‡§£‡§æ (Selfishness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Negative thinking"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_negative"
                                                    value="‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§µ‡§ø‡§ö‡§æ‡§∞ (Negative thinking)">
                                                <label for="dosh_negative">‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§µ‡§ø‡§ö‡§æ‡§∞ (Negative thinking)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Dominating"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_dominating"
                                                    value="‡§µ‡§∞‡•ç‡§ö‡§∏‡•ç‡§µ ‡§ó‡§æ‡§ú‡§µ‡§£‡•á (Dominating)">
                                                <label for="dosh_dominating">‡§µ‡§∞‡•ç‡§ö‡§∏‡•ç‡§µ ‡§ó‡§æ‡§ú‡§µ‡§£‡•á (Dominating)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of concentration"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_concentration"
                                                    value="‡§è‡§ï‡§æ‡§ó‡•ç‡§∞‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of concentration)">
                                                <label for="dosh_concentration">‡§è‡§ï‡§æ‡§ó‡•ç‡§∞‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of
                                                    concentration)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Moodiness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_moodiness" value="‡§≤‡§π‡§∞‡•Ä‡§™‡§£‡§æ (Moodiness)">
                                                <label for="dosh_moodiness">‡§≤‡§π‡§∞‡•Ä‡§™‡§£‡§æ (Moodiness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Discouraging others"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_discouraging"
                                                    value="‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡§æ ‡§®‡§ø‡§∞‡•Å‡§§‡•ç‡§∏‡§æ‡§π‡•Ä ‡§ï‡§∞‡§£‡•á (Discouraging others)">
                                                <label for="dosh_discouraging">‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡§æ ‡§®‡§ø‡§∞‡•Å‡§§‡•ç‡§∏‡§æ‡§π‡•Ä ‡§ï‡§∞‡§£‡•á (Discouraging
                                                    others)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Inferiority complex"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_inferiority"
                                                    value="‡§®‡•ç‡§Ø‡•Å‡§®‡§ó‡§Ç‡§° ‡§Ö‡§∏‡§£‡•á (Inferiority complex)">
                                                <label for="dosh_inferiority">‡§®‡•ç‡§Ø‡•Å‡§®‡§ó‡§Ç‡§° ‡§Ö‡§∏‡§£‡•á (Inferiority
                                                    complex)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Lack of empathy"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_empathy"
                                                    value="‡§∏‡§π‡§æ‡§®‡•Å‡§≠‡•Ç‡§§‡§ø ‡§® ‡§µ‡§æ‡§ü‡§£‡•á (Lack of empathy)">
                                                <label for="dosh_empathy">‡§∏‡§π‡§æ‡§®‡•Å‡§≠‡•Ç‡§§‡§ø ‡§® ‡§µ‡§æ‡§ü‡§£‡•á (Lack of empathy)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Punctuality"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_punctuality"
                                                    value="‡§µ‡§ï‡•ç‡§§‡§∂‡•Ä‡§∞‡§™‡§£‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of punctuality)">
                                                <label for="dosh_punctuality">‡§µ‡§ï‡•ç‡§§‡§∂‡•Ä‡§∞‡§™‡§£‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of
                                                    punctuality)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Vengefulness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_vengeful"
                                                    value="‡§∏‡•Ç‡§°‡§¨‡•Å‡§¶‡•ç‡§ß‡•Ä ‡§Ö‡§∏‡§£‡•á (Vengefulness)">
                                                <label for="dosh_vengeful">‡§∏‡•Ç‡§°‡§¨‡•Å‡§¶‡•ç‡§ß‡•Ä ‡§Ö‡§∏‡§£‡•á (Vengefulness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Unethical"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_unethical"
                                                    value="‡§®‡•Ä‡§§‡•Ä‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unethical behavior)">
                                                <label for="dosh_unethical">‡§®‡•Ä‡§§‡•Ä‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unethical behavior)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Miserliness"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_miser" value="‡§ï‡§Ç‡§ú‡•Ç‡§∑‡§™‡§£‡§æ (Miserliness)">
                                                <label for="dosh_miser">‡§ï‡§Ç‡§ú‡•Ç‡§∑‡§™‡§£‡§æ (Miserliness)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Partiality"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_partiality"
                                                    value="‡§™‡§ï‡•ç‡§∑‡§™‡§æ‡§§‡•Ä‡§™‡§£‡§æ (Partiality)">
                                                <label for="dosh_partiality">‡§™‡§ï‡•ç‡§∑‡§™‡§æ‡§§‡•Ä‡§™‡§£‡§æ (Partiality)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Over-ambitious"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_ambitious"
                                                    value="‡§Ö‡§§‡§ø‡§Æ‡§π‡§§‡•ç‡§µ‡§æ‡§ï‡§æ‡§Ç‡§ï‡•ç‡§∑‡•Ä ‡§Ö‡§∏‡§£‡•á (Over-ambitious)">
                                                <label for="dosh_ambitious">‡§Ö‡§§‡§ø‡§Æ‡§π‡§§‡•ç‡§µ‡§æ‡§ï‡§æ‡§Ç‡§ï‡•ç‡§∑‡•Ä ‡§Ö‡§∏‡§£‡•á
                                                    (Over-ambitious)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Daydreaming"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_daydream"
                                                    value="‡§Æ‡§®‡•ã‡§∞‡§æ‡§ú‡•ç‡§Ø‡§æ‡§§ ‡§∞‡§Æ‡§£‡•á (Daydreaming)">
                                                <label for="dosh_daydream">‡§Æ‡§®‡•ã‡§∞‡§æ‡§ú‡•ç‡§Ø‡§æ‡§§ ‡§∞‡§Æ‡§£‡•á (Daydreaming)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Seeking attention"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_attention_seeking"
                                                    value="‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡•Ä ‡§≤‡§ï‡•ç‡§∑ ‡§¶‡•ç‡§Ø‡§æ‡§µ‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á (Seeking attention)">
                                                <label for="dosh_attention_seeking">‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡•Ä ‡§≤‡§ï‡•ç‡§∑ ‡§¶‡•ç‡§Ø‡§æ‡§µ‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á
                                                    (Seeking attention)</label>
                                            </div>
                                            <div class="multi-select-option" data-value="Pessimistic"
                                                data-group="other-list">
                                                <input type="checkbox" id="dosh_pessimistic"
                                                    value="‡§®‡§ø‡§∞‡§æ‡§∂‡§æ‡§µ‡§æ‡§¶‡•Ä ‡§µ‡•É‡§§‡•ç‡§§‡•Ä (Pessimistic attitude)">
                                                <label for="dosh_pessimistic">‡§®‡§ø‡§∞‡§æ‡§∂‡§æ‡§µ‡§æ‡§¶‡•Ä ‡§µ‡•É‡§§‡•ç‡§§‡•Ä (Pessimistic
                                                    attitude)</label>
                                            </div>

                                            <div class="multi-select-option" data-value="Others" data-group="other">
                                                <input type="checkbox" id="dosh_others" value="‡§á‡§§‡§∞">
                                                <label for="dosh_others">‡§á‡§§‡§∞</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center mt-1.5">
                                    <p class="text-[10px] text-slate-500 italic">üí° ‡§â‡§ò‡§°‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§æ ‡§Ü‡§£‡§ø ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§°‡§æ
                                    </p>
                                    <a href="resources/dosh.pdf" target="_blank"
                                        class="text-[10px] text-blue-600 font-bold hover:underline flex items-center gap-1">
                                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2.5">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                        </svg>
                                        ‡§¶‡•ã‡§∑ ‡§Ø‡§æ‡§¶‡•Ä (Dosh List)
                                    </a>
                                </div>
                            </div>
                            <div>
                                <label for="wrongClassificationInput"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§µ‡§∞‡•ç‡§ó‡§ø‡§ï‡§∞‡§£
                                </label>
                                <select id="wrongClassificationInput"
                                    class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none">
                                    <option value="">‡§µ‡§∞‡•ç‡§ó‡§ø‡§ï‡§∞‡§£ ‡§®‡§ø‡§µ‡§°‡§æ...</option>
                                    <option value="‡§∏‡•ç‡§µ‡§§:">‡§∏‡•ç‡§µ‡§§:</option>
                                    <option value="‡§∏‡§æ‡§ß‡§ï">‡§∏‡§æ‡§ß‡§ï</option>
                                    <option value="‡§á‡§§‡§∞">‡§á‡§§‡§∞</option>
                                </select>
                            </div>
                            <div>
                                <label for="wrongThingsInput"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§™‡•ç‡§∞‡§∏‡§Ç‡§ó /
                                    ‡§µ‡§∞‡•ç‡§£‡§®</label>
                                <textarea id="wrongThingsInput" required placeholder="‡§™‡•ç‡§∞‡§∏‡§Ç‡§ó‡§æ‡§ö‡•á ‡§µ‡§∞‡•ç‡§£‡§® ‡§≤‡§ø‡§π‡§æ..."
                                    class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border h-32 resize-none focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none"></textarea>
                            </div>
                            <button type="submit" id="wrongSubmitBtn"
                                class="w-full bg-slate-900 text-white py-4 rounded-xl hover:bg-red-600 font-bold shadow-lg transition-all hover:-translate-y-1 active:scale-95 mt-2">‡§ö‡•Ç‡§ï
                                ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ</button>
                        </form>
                    </div>
                </div>
                <div class="lg:col-span-8">
                    <div class="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden">
                        <div class="p-6 border-b border-slate-50 flex justify-between items-center">
                            <span class="font-bold text-slate-800">‡§Æ‡§æ‡§ó‡•Ä‡§≤ ‡§®‡•ã‡§Ç‡§¶‡•Ä</span>
                            <div class="relative w-48">
                                <input type="text" id="searchWrongLogs" placeholder="‡§∂‡•ã‡§ß‡§æ..."
                                    class="w-full pl-8 pr-3 py-1.5 text-xs bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-200">
                                <svg class="w-3.5 h-3.5 text-slate-400 absolute left-2.5 top-2" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div id="wrongPaginationTop"></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left table-fixed">
                                <colgroup>
                                    <col class="w-1/4">
                                    <col class="w-1/2">
                                    <col class="w-1/4">
                                </colgroup>
                                <tbody id="wrongTableBody" class="divide-y divide-slate-50"></tbody>
                            </table>
                            <div id="wrongPagination"></div>
                            <div id="wrongEmpty" class="hidden p-20 text-center text-slate-600 italic">‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä
                                ‡§®‡•ã‡§Ç‡§¶ ‡§®‡§æ‡§π‡•Ä.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- DECISION PAGE -->
        <div id="page-decision" class="page-content max-w-6xl mx-auto px-4 py-8">
            <header class="mb-8">
                <h2 class="text-2xl font-extrabold tracking-tight text-slate-900">‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø</h2>
                <p class="text-slate-600 text-sm">‡§ú‡§æ‡§£‡•Ä‡§µ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ö‡•Å‡§ï‡§æ ‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡•á</p>
            </header>
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5">
                    <div class="bg-white px-6 pt-6 pb-8 rounded-3xl shadow-xl border border-slate-100 h-fit">
                        <h2 class="text-lg font-bold mb-5 flex items-center gap-2"><span
                                class="w-2 h-6 bg-blue-600 rounded-full"></span> ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§µ‡§æ</h2>
                        <form id="decisionForm" class="space-y-4">
                            <input type="hidden" id="decisionEditId">
                            <div>
                                <label for="wrongThingSelector"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§ö‡•Ç‡§ï ‡§®‡§ø‡§µ‡§°‡§æ</label>
                                <div class="custom-select-container relative">
                                    <div id="wrongThingTrigger"
                                        class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border font-medium text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none flex justify-between items-center gap-3 cursor-pointer min-h-[46px]">
                                        <span class="text-slate-500 whitespace-normal break-all flex-1">-- ‡§Æ‡§æ‡§ó‡•Ä‡§≤
                                            ‡§®‡•ã‡§Ç‡§¶‡•Ä‡§Æ‡§ß‡•Ç‡§® ‡§®‡§ø‡§µ‡§°‡§æ --</span>
                                        <svg class="w-4 h-4 text-slate-400 shrink-0" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </div>
                                    <input type="hidden" id="wrongThingSelector" required>

                                    <div id="wrongThingDropdown"
                                        class="hidden absolute z-20 w-full mt-1 bg-white border border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto">
                                        <div class="p-2 sticky top-0 bg-white border-b border-slate-50">
                                            <input type="text" id="wrongThingSearch" placeholder="‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§∂‡•ã‡§ß‡§æ..."
                                                class="w-full p-2 text-xs bg-slate-50 rounded-lg border-none outline-none focus:ring-1 focus:ring-blue-500">
                                        </div>
                                        <div id="wrongThingOptions" class="py-1">
                                            <!-- Options populated by JS -->
                                        </div>
                                    </div>
                                </div>
                                <div id="wrongThingPreview" class="hidden"></div>
                            </div>
                            <div>
                                <label for="decisionInput"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø /
                                    ‡§¶‡•É‡§∑‡•ç‡§ü‡•Ä‡§ï‡•ã‡§®</label>
                                <textarea id="decisionInput" required
                                    placeholder="‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§¶‡•É‡§∑‡•ç‡§ü‡•Ä‡§ï‡•ã‡§® / ‡§ï‡•É‡§§‡•Ä ‡§ï‡§æ‡§Ø ‡§Ö‡§∏‡§æ‡§Ø‡§≤‡§æ ‡§π‡§µ‡•Ä?"
                                    class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border h-32 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"></textarea>
                            </div>
                            <button type="submit" id="decisionSubmitBtn"
                                class="w-full bg-blue-600 text-white py-4 rounded-xl hover:bg-blue-700 font-bold shadow-lg transition-all hover:-translate-y-1 active:scale-95 mt-2">‡§®‡§ø‡§∞‡•ç‡§£‡§Ø
                                ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ</button>
                        </form>
                    </div>
                </div>
                <div class="lg:col-span-7">
                    <div class="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden">
                        <div class="p-6 border-b border-slate-50 flex justify-between items-center">
                            <span class="font-bold text-slate-800">‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§∏‡•Ç‡§ö‡•Ä</span>
                            <div class="relative w-48">
                                <input type="text" id="searchDecisionLogs" placeholder="‡§∂‡•ã‡§ß‡§æ..."
                                    class="w-full pl-8 pr-3 py-1.5 text-xs bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-200">
                                <svg class="w-3.5 h-3.5 text-slate-400 absolute left-2.5 top-2" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div id="decisionPaginationTop"></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left table-fixed">
                                <colgroup>
                                    <col class="w-3/4">
                                    <col class="w-1/4">
                                </colgroup>
                                <tbody id="decisionTableBody" class="divide-y divide-slate-50"></tbody>
                            </table>
                            <div id="decisionPagination"></div>
                            <div id="decisionEmpty" class="hidden p-20 text-center text-slate-600 italic">‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä
                                ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- RESULTS PAGE -->
        <div id="page-results" class="page-content max-w-6xl mx-auto px-4 py-8">
            <header class="mb-8">
                <h2 class="text-2xl font-extrabold tracking-tight text-slate-900">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§Ü‡§£‡§ø ‡§¨‡§¶‡§≤</h2>
                <p class="text-slate-600 text-sm">‡§ï‡•É‡§§‡•Ä‡§®‡§Ç‡§§‡§∞ ‡§ù‡§æ‡§≤‡•á‡§≤‡•á ‡§Ö‡§Ç‡§§‡§∞‡•ç‡§ó‡§§ ‡§¨‡§¶‡§≤ ‡§Ö‡§®‡•Å‡§≠‡§µ‡§£‡•á</p>
            </header>
            <div class="grid lg:grid-cols-12 gap-8">
                <div class="lg:col-span-5">
                    <div class="bg-white px-6 pt-6 pb-8 rounded-3xl shadow-xl border border-slate-100 h-fit">
                        <h2 class="text-lg font-bold mb-5 flex items-center gap-2"><span
                                class="w-2 h-6 bg-emerald-500 rounded-full"></span> ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡•ã‡§Ç‡§¶‡§µ‡§æ</h2>
                        <form id="resultForm" class="space-y-4">
                            <input type="hidden" id="resultEditId">
                            <div>
                                <label for="decisionSelector"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§ò‡•á‡§§‡§≤‡•á‡§≤‡§æ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø
                                    ‡§®‡§ø‡§µ‡§°‡§æ</label>
                                <div class="custom-select-container relative">
                                    <div id="decisionTrigger"
                                        class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border font-medium text-sm focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none flex justify-between items-center gap-3 cursor-pointer min-h-[46px]">
                                        <span class="text-slate-500 whitespace-normal break-all flex-1">--
                                            ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§æ‡§Ç‡§Æ‡§ß‡•Ç‡§® ‡§®‡§ø‡§µ‡§°‡§æ --</span>
                                        <svg class="w-4 h-4 text-slate-400 shrink-0" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </div>
                                    <input type="hidden" id="decisionSelector" required>

                                    <div id="decisionDropdown"
                                        class="hidden absolute z-20 w-full mt-1 bg-white border border-slate-100 rounded-xl shadow-xl max-h-60 overflow-y-auto">
                                        <div class="p-2 sticky top-0 bg-white border-b border-slate-50">
                                            <input type="text" id="decisionSearch" placeholder="‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§∂‡•ã‡§ß‡§æ..."
                                                class="w-full p-2 text-xs bg-slate-50 rounded-lg border-none outline-none focus:ring-1 focus:ring-emerald-500">
                                        </div>
                                        <div id="decisionOptions" class="py-1">
                                            <!-- Options populated by JS -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="resultInput"
                                    class="block text-xs font-bold text-slate-600 uppercase mb-1.5">‡§¶‡§ø‡§∏‡•Ç‡§® ‡§Ü‡§≤‡•á‡§≤‡§æ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ /
                                    ‡§¨‡§¶‡§≤</label>
                                <textarea id="resultInput" required
                                    placeholder="‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§æ‡§µ‡§∞ ‡§ï‡•É‡§§‡•Ä ‡§ï‡•á‡§≤‡•ç‡§Ø‡§æ‡§®‡§Ç‡§§‡§∞ ‡§ï‡§æ‡§Ø ‡§¨‡§¶‡§≤ ‡§ú‡§æ‡§£‡§µ‡§≤‡•á?"
                                    class="w-full rounded-xl border-slate-200 bg-slate-50 p-3 border h-32 resize-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"></textarea>
                            </div>
                            <button type="submit" id="resultSubmitBtn"
                                class="w-full bg-emerald-600 text-white py-4 rounded-xl hover:bg-emerald-700 font-bold shadow-lg transition-all hover:-translate-y-1 active:scale-95 mt-2">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ
                                ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ</button>
                        </form>
                    </div>
                </div>
                <div class="lg:col-span-7">
                    <div class="bg-white rounded-3xl shadow-xl border border-slate-100 overflow-hidden">
                        <div class="p-6 border-b border-slate-50 flex justify-between items-center">
                            <span class="font-bold text-slate-800">‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§™‡•ç‡§∞‡§µ‡§æ‡§∏</span>
                            <div class="relative w-48">
                                <input type="text" id="searchResultLogs" placeholder="‡§∂‡•ã‡§ß‡§æ..."
                                    class="w-full pl-8 pr-3 py-1.5 text-xs bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-200">
                                <svg class="w-3.5 h-3.5 text-slate-400 absolute left-2.5 top-2" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div id="resultPaginationTop"></div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left table-fixed">
                                <colgroup>
                                    <col class="w-3/4">
                                    <col class="w-1/4">
                                </colgroup>
                                <tbody id="resultsTableBody" class="divide-y divide-slate-50"></tbody>
                            </table>
                            <div id="resultPagination"></div>
                            <div id="resultsEmpty" class="hidden p-20 text-center text-slate-600 italic">‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ
                                ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </main>

    <div id="toast"
        class="fixed bottom-6 right-6 px-6 py-3 bg-slate-900 text-white rounded-2xl text-sm font-bold shadow-2xl opacity-0 transition-all translate-y-10 pointer-events-none z-[70]">
    </div>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'mr',
                includedLanguages: 'en,hi,mr,gu,kn,ta',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" async
        src="https://translate.googleapis.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        const STORAGE_WRONG = 'ss_wrong_logs_v2';
        const STORAGE_DECISION = 'ss_decision_logs_v2';
        const STORAGE_RESULT = 'ss_result_logs_v2';
        const LANG_KEY = 'ss_preferred_lang';

        let wrongLogs = JSON.parse(localStorage.getItem(STORAGE_WRONG)) || [];
        let decisionLogs = JSON.parse(localStorage.getItem(STORAGE_DECISION)) || [];
        let resultLogs = JSON.parse(localStorage.getItem(STORAGE_RESULT)) || [];

        let currentPageWrong = 1;
        let currentPageDecision = 1;
        let currentPageResult = 1;
        let itemsPerPage = 5;

        // --- Helper: Check if date is within last X days ---
        function isRecent(dateStr) {
            if (!dateStr) return false;
            const logDate = new Date(dateStr);
            const today = new Date();
            // Reset times for accurate day comparison
            today.setHours(0, 0, 0, 0);
            logDate.setHours(0, 0, 0, 0);
            const diffTime = today - logDate;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays <= 3;
        }

        // --- Read More / Truncate Logic ---
        function getExpandableText(text, uidPrefix, limit = 100) {
            if (!text) return '';
            // Basic escaping to prevent XSS and ensure safe slicing
            const safeText = text.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");

            if (safeText.length <= limit) return safeText;

            const shortText = safeText.substring(0, limit) + '...';

            return `<span id="short-${uidPrefix}">${shortText}</span><span id="full-${uidPrefix}" class="hidden">${safeText}</span><button onclick="toggleReadMore('${uidPrefix}')" id="btn-${uidPrefix}" class="text-blue-600 text-xs font-bold hover:underline ml-1 focus:outline-none">‡§Ö‡§ß‡§ø‡§ï ‡§µ‡§æ‡§ö‡§æ</button>`;
        }

        window.toggleReadMore = (uid) => {
            const shortSpan = document.getElementById(`short-${uid}`);
            const fullSpan = document.getElementById(`full-${uid}`);
            const btn = document.getElementById(`btn-${uid}`);

            if (shortSpan.classList.contains('hidden')) {
                shortSpan.classList.remove('hidden');
                fullSpan.classList.add('hidden');
                btn.textContent = '‡§Ö‡§ß‡§ø‡§ï ‡§µ‡§æ‡§ö‡§æ';
            } else {
                shortSpan.classList.add('hidden');
                fullSpan.classList.remove('hidden');
                btn.textContent = '‡§ï‡§Æ‡•Ä ‡§ï‡§∞‡§æ';
            }
        };

        // --- Navigation Logic ---
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page-content');

        navLinks.forEach(link => {
            link.onclick = () => {
                const targetId = link.id.replace('nav-', 'page-');

                // Only act if tab changed
                if (document.getElementById(targetId).classList.contains('active')) return;

                navLinks.forEach(l => l.classList.remove('active-tab'));
                link.classList.add('active-tab');
                pages.forEach(p => p.classList.remove('active'));
                document.getElementById(targetId).classList.add('active');

                // On-demand rendering when switching tabs
                if (targetId === 'page-dashboard') {
                    renderDashboard();
                }
                if (targetId === 'page-decision') {
                    populateWrongSelector();
                    renderDecisions();
                }
                if (targetId === 'page-results') {
                    populateDecisionSelector();
                    renderResults();
                }
            };
        });

        // --- Dashboard Logic ---
        let dailyChart = null;
        let doshChart = null;

        function renderDashboard() {
            // Update statistics
            document.getElementById('stat-total-wrong').textContent = wrongLogs.length;
            document.getElementById('stat-total-decisions').textContent = decisionLogs.length;
            document.getElementById('stat-total-results').textContent = resultLogs.length;

            // Calculate improvement rate
            const improvementRate = wrongLogs.length > 0
                ? Math.round((decisionLogs.length / wrongLogs.length) * 100)
                : 0;
            document.getElementById('improvement-rate').textContent = improvementRate + '%';

            // Calculate transformation rate
            const transformationRate = decisionLogs.length > 0
                ? Math.round((resultLogs.length / decisionLogs.length) * 100)
                : 0;
            document.getElementById('transformation-rate').textContent = transformationRate + '%';

            // Render charts
            renderDailyActivityChart();
            renderDoshPieChart();
            updateDailyMessage();
            renderDoshLevelTable();
        }

        function renderDailyActivityChart() {
            const canvas = document.getElementById('dailyActivityChart');
            if (!canvas) return;

            // Get last 7 days
            const today = new Date();
            const last7Days = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                last7Days.push(date.toISOString().split('T')[0]);
            }

            // Count entries per day
            const wrongCounts = last7Days.map(date =>
                wrongLogs.filter(log => log.Date === date).length
            );
            const decisionCounts = last7Days.map(date =>
                decisionLogs.filter(log => log.date === date).length
            );
            const resultCounts = last7Days.map(date =>
                resultLogs.filter(log => log.date === date).length
            );

            // Format labels (show day name)
            const labels = last7Days.map(date => {
                const d = new Date(date);
                const days = ['‡§∞‡§µ‡§ø', '‡§∏‡•ã‡§Æ', '‡§Æ‡§Ç‡§ó‡§≥', '‡§¨‡•Å‡§ß', '‡§ó‡•Å‡§∞‡•Å', '‡§∂‡•Å‡§ï‡•ç‡§∞', '‡§∂‡§®‡§ø'];
                return days[d.getDay()];
            });

            // Destroy previous chart if exists
            if (dailyChart) {
                dailyChart.destroy();
            }

            // Create new chart
            dailyChart = new Chart(canvas, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: '‡§¶‡•ã‡§∑',
                            data: wrongCounts,
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: 'rgb(239, 68, 68)',
                            borderWidth: 2
                        },
                        {
                            label: '‡§®‡§ø‡§∞‡•ç‡§£‡§Ø',
                            data: decisionCounts,
                            backgroundColor: 'rgba(59, 130, 246, 0.7)',
                            borderColor: 'rgb(59, 130, 246)',
                            borderWidth: 2
                        },
                        {
                            label: '‡§™‡§∞‡§ø‡§£‡§æ‡§Æ',
                            data: resultCounts,
                            backgroundColor: 'rgba(16, 185, 129, 0.7)',
                            borderColor: 'rgb(16, 185, 129)',
                            borderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }

        function renderDoshPieChart() {
            const canvas = document.getElementById('doshPieChart');
            if (!canvas) return;

            // Count Dosh occurrences
            const doshCount = {};
            wrongLogs.forEach(log => {
                const doshArray = Array.isArray(log.Dosh) ? log.Dosh : (log.Dosh ? [log.Dosh] : []);
                doshArray.forEach(dosh => {
                    if (dosh) {
                        doshCount[dosh] = (doshCount[dosh] || 0) + 1;
                    }
                });
            });

            // Get top 5 Dosh
            const sortedDosh = Object.entries(doshCount)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);

            if (sortedDosh.length === 0) {
                // Show empty state
                if (doshChart) {
                    doshChart.destroy();
                    doshChart = null;
                }
                canvas.parentElement.innerHTML = '<p class="text-slate-500 text-sm italic">‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§¶‡•ã‡§∑ ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•á‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§</p>';
                return;
            }

            const labels = sortedDosh.map(([dosh]) => dosh);
            const data = sortedDosh.map(([, count]) => count);

            // Destroy previous chart if exists
            if (doshChart) {
                doshChart.destroy();
            }

            // Create new chart
            doshChart = new Chart(canvas, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.8)',
                            'rgba(249, 115, 22, 0.8)',
                            'rgba(234, 179, 8, 0.8)',
                            'rgba(168, 85, 247, 0.8)',
                            'rgba(236, 72, 153, 0.8)'
                        ],
                        borderColor: [
                            'rgb(239, 68, 68)',
                            'rgb(249, 115, 22)',
                            'rgb(234, 179, 8)',
                            'rgb(168, 85, 247)',
                            'rgb(236, 72, 153)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                font: {
                                    size: 11,
                                    weight: 'bold'
                                },
                                padding: 10
                            }
                        }
                    }
                }
            });
        }

        function updateDailyMessage() {
            const messages = [
                "‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§¶‡§ø‡§µ‡§∏ ‡§Ü‡§§‡•ç‡§Æ-‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡•á‡§ö‡•Ä ‡§®‡§µ‡•Ä‡§® ‡§∏‡§Ç‡§ß‡•Ä ‡§Ü‡§π‡•á. ‡§Ü‡§™‡§≤‡•Ä ‡§™‡•ç‡§∞‡§ó‡§§‡•Ä ‡§ö‡§æ‡§≤‡•Ç ‡§†‡•á‡§µ‡§æ!",
                "‡§Ü‡§§‡•ç‡§Æ‡§®‡§ø‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§π‡•á ‡§Ü‡§ß‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ø‡§ï ‡§µ‡§æ‡§¢‡•Ä‡§ö‡•á ‡§™‡§π‡§ø‡§≤‡•á ‡§™‡§æ‡§ä‡§≤ ‡§Ü‡§π‡•á.",
                "‡§ö‡•Å‡§ï‡§æ‡§Ç‡§Æ‡§ß‡•Ç‡§® ‡§∂‡§ø‡§ï‡§£‡•á ‡§π‡•á ‡§ñ‡§∞‡•á ‡§ú‡•ç‡§û‡§æ‡§® ‡§Ü‡§π‡•á.",
                "‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ò‡•á‡§£‡•á ‡§Æ‡•ç‡§π‡§£‡§ú‡•á ‡§∏‡•ç‡§µ‡§§‡§É‡§≤‡§æ ‡§ú‡§æ‡§£‡§£‡•á.",
                "‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∏‡•Å‡§ß‡§æ‡§∞‡§£‡§æ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§™‡§∞‡§Æ‡§æ‡§§‡•ç‡§Æ‡•ç‡§Ø‡§æ‡§ö‡•ç‡§Ø‡§æ ‡§ú‡§µ‡§≥ ‡§ò‡•á‡§ä‡§® ‡§ú‡§æ‡§§‡•á.",
                "‡§∏‡§æ‡§§‡§§‡•ç‡§Ø ‡§π‡•á ‡§Ø‡§∂‡§æ‡§ö‡•á ‡§∞‡§π‡§∏‡•ç‡§Ø ‡§Ü‡§π‡•á. ‡§ö‡§æ‡§≤‡•Ç ‡§†‡•á‡§µ‡§æ!",
                "‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ ‡§¶‡•ã‡§∑‡§æ‡§Ç‡§®‡§æ ‡§ì‡§≥‡§ñ‡§£‡•á ‡§π‡•á ‡§ß‡•à‡§∞‡•ç‡§Ø‡§æ‡§ö‡•á ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§Ü‡§π‡•á."
            ];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            const messageEl = document.getElementById('daily-message');
            if (messageEl) {
                messageEl.textContent = randomMessage;
            }
        }

        // --- Dosh Level Tracking ---
        const STORAGE_DOSH_LEVELS = 'ss_dosh_levels';
        let doshLevels = JSON.parse(localStorage.getItem(STORAGE_DOSH_LEVELS)) || [];

        // All available Dosh options (from your multi-select dropdown)
        const allDoshOptions = [
            '‡§ï‡§æ‡§Æ', '‡§ï‡•ç‡§∞‡•ã‡§ß / ‡§∞‡§æ‡§ó', '‡§≤‡•ã‡§≠', '‡§Æ‡•ã‡§π', '‡§Æ‡§¶ / ‡§§‡§æ‡§†‡§æ', '‡§Æ‡§§‡•ç‡§∏‡§∞ / ‡§¶‡•ç‡§µ‡•á‡§∑',
            '‡§∂‡•Ä‡§ò‡•ç‡§∞‡§ï‡•ã‡§™‡•Ä‡§™‡§£‡§æ', '‡§ö‡§ø‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ', '‡§≠‡§æ‡§Ç‡§°‡§ñ‡•ã‡§∞‡§™‡§£‡§æ', '‡§µ‡§ø‡§ß‡•ç‡§µ‡§Ç‡§∏‡§ï‡§µ‡•É‡§§‡•ç‡§§‡•Ä', '‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§§‡•Å‡§ö‡•ç‡§õ ‡§≤‡•á‡§ñ‡§£‡•á', '‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•ç‡§Ø‡§æ ‡§ö‡•Å‡§ï‡§æ ‡§∂‡•ã‡§ß‡§£‡•á', '‡§ü‡•Ä‡§ï‡§æ ‡§ï‡§∞‡§£‡•á',
            '‡§Ö‡§π‡§Ç‡§ï‡§æ‡§∞ / ‡§ó‡§∞‡•ç‡§µ', '‡§≠‡§æ‡§µ‡§µ‡§ø‡§µ‡§∂‡§§‡§æ', '‡§≠‡•Ä‡§§‡•Ä', '‡§ñ‡•ã‡§ü‡•á ‡§¨‡•ã‡§≤‡§£‡•á / ‡§Ö‡§™‡•ç‡§∞‡§æ‡§Æ‡§æ‡§£‡§ø‡§ï‡§™‡§£‡§æ', '‡§∏‡§Ç‡§∂‡§Ø‡•Ä‡§µ‡•É‡§§‡•ç‡§§‡•Ä', '‡§ï‡•É‡§§‡§ò‡•ç‡§®‡§™‡§£‡§æ', '‡§™‡§∂‡•ç‡§ö‡§æ‡§§‡•ç‡§§‡§æ‡§™ ‡§® ‡§π‡•ã‡§£‡•á', '‡§ó‡§æ‡§Ç‡§≠‡•Ä‡§∞‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ', '‡§®‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ', '‡§µ‡§ø‡§∏‡§∞‡§≠‡•ã‡§≥‡•á‡§™‡§£‡§æ',
            '‡§Ü‡§≥‡§∏', '‡§ò‡§æ‡§à‡§ò‡§æ‡§à‡§®‡•á ‡§ï‡§∞‡§£‡•á / ‡§â‡§§‡§æ‡§µ‡§≥‡•á‡§™‡§£‡§æ', '‡§®‡§ø‡§∑‡•ç‡§ï‡§æ‡§≥‡§ú‡•Ä‡§™‡§£‡§æ', '‡§¨‡•á‡§ú‡§¨‡§æ‡§¨‡§¶‡§æ‡§∞‡§™‡§£‡§æ', '‡§Ö‡§µ‡§ú‡•ç‡§û‡§æ ‡§ï‡§∞‡§£‡•á', '‡§µ‡§ø‡§®‡§æ‡§ï‡§æ‡§∞‡§£ ‡§¨‡•ã‡§≤‡§£‡•á', '‡§∏‡§Ç‡§ï‡•Å‡§ö‡§ø‡§§‡§µ‡•É‡§§‡•ç‡§§‡•Ä', '‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡•á‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ', '‡§Ü‡§§‡•ç‡§Æ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ', '‡§â‡§ß‡§≥‡§™‡§ü‡•ç‡§ü‡•Ä', '‡§Ö‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§‡§™‡§£‡§æ',
            '‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡§µ‡§æ‡§£‡•Ä‡§®‡•á ‡§¨‡•ã‡§≤‡§£‡•á (Speaking authoritatively)', '‡§á‡§§‡§∞‡§æ‡§Ç‡§ö‡•á ‡§≤‡§ï‡•ç‡§∑ ‡§µ‡•á‡§ß‡•Ç‡§® ‡§ò‡•á‡§£‡•á (Attracting attention)', '‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Having expectations)', '‡§ï‡§∞‡•ç‡§§‡•á‡§™‡§£‡§æ ‡§ò‡•á‡§£‡•á (Taking doership)', '‡§∏‡•ç‡§µ‡§§‡§É‡§≤‡§æ ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡§≥‡§§‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á (Thinking one knows more)', '‡§ö‡•Ç‡§ï ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§® ‡§ï‡§∞‡§£‡•á (Not admitting mistakes)', '‡§ö‡§ø‡§ï‡§æ‡§ü‡•Ä‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of perseverance)', '‡§è‡§ï‡§≤‡§ï‡•ã‡§Ç‡§°‡•á‡§™‡§£‡§æ (Solitariness)', '‡§™‡•Ç‡§∞‡•ç‡§µ‡§ó‡•ç‡§∞‡§π‡§¶‡•Ç‡§∑‡§ø‡§§ ‡§Ö‡§∏‡§£‡•á (Being prejudiced)', '‡§Ö‡§∏‡§Æ‡§Ç‡§ú‡§∏‡§™‡§£‡§æ (Unreasonableness)', '‡§ö‡§æ‡§§‡•Å‡§∞‡•ç‡§Ø ‡§®‡§∏‡§£‡•á (Lack of tact)', '‡§®‡§ø‡§∑‡•ç‡§†‡•á‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unfaithfulness)', '‡§≤‡§æ‡§ö ‡§ò‡•á‡§£‡•á ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§¶‡•á‡§£‡•á (Bribery)', '‡§¶‡§ø‡§ñ‡§æ‡§ä‡§™‡§£‡§æ (Showiness)', '‡§Æ‡•Ä ‡§Æ‡•ç‡§π‡§£‡§§‡•ã ‡§§‡§∏‡•á‡§ö ‡§ù‡§æ‡§≤‡•á ‡§™‡§æ‡§π‡§ø‡§ú‡•á (Insisting on one\'s way)', '‡§§‡•Å‡§≤‡§®‡§æ ‡§ï‡§∞‡§£‡•á (Comparing)', '‡§ï‡•å‡§§‡•Å‡§ï‡§æ‡§ö‡•Ä ‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡§£‡•á (Expecting praise)', '‡§Æ‡§®‡§æ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡•á ‡§µ‡§æ‡§ó‡§£‡•á (Self-willed behavior)',
            '‡§ï‡§æ‡§≥‡§ú‡•Ä ‡§ï‡§∞‡§£‡•á (Worrying)', '‡§ö‡§ø‡§Ç‡§§‡§æ‡§§‡•Å‡§∞‡§§‡§æ (Anxiety)', '‡§â‡§ß‡•ç‡§¶‡§ü‡§™‡§£‡§æ (Rudeness)', '‡§∏‡§π‡§®‡§∂‡•Ä‡§≤‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of tolerance)', '‡§π‡§ü‡•ç‡§ü‡•Ä‡§™‡§£‡§æ (Stubbornness)', '‡§∏‡•ç‡§µ‡§æ‡§∞‡•ç‡§•‡•Ä‡§™‡§£‡§æ (Selfishness)', '‡§®‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§µ‡§ø‡§ö‡§æ‡§∞ (Negative thinking)', '‡§µ‡§∞‡•ç‡§ö‡§∏‡•ç‡§µ ‡§ó‡§æ‡§ú‡§µ‡§£‡•á (Dominating)', '‡§è‡§ï‡§æ‡§ó‡•ç‡§∞‡§§‡§æ ‡§®‡§∏‡§£‡•á (Lack of concentration)', '‡§≤‡§π‡§∞‡•Ä‡§™‡§£‡§æ (Moodiness)', '‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡§æ ‡§®‡§ø‡§∞‡•Å‡§§‡•ç‡§∏‡§æ‡§π‡•Ä ‡§ï‡§∞‡§£‡•á (Discouraging others)', '‡§®‡•ç‡§Ø‡•Å‡§®‡§ó‡§Ç‡§° ‡§Ö‡§∏‡§£‡•á (Inferiority complex)', '‡§∏‡§π‡§æ‡§®‡•Å‡§≠‡•Ç‡§§‡§ø ‡§® ‡§µ‡§æ‡§ü‡§£‡•á (Lack of empathy)', '‡§µ‡§ï‡•ç‡§§‡§∂‡•Ä‡§∞‡§™‡§£‡§æ‡§ö‡§æ ‡§Ö‡§≠‡§æ‡§µ (Lack of punctuality)', '‡§∏‡•Ç‡§°‡§¨‡•Å‡§¶‡•ç‡§ß‡•Ä ‡§Ö‡§∏‡§£‡•á (Vengefulness)', '‡§®‡•Ä‡§§‡•Ä‡§®‡•á ‡§® ‡§µ‡§æ‡§ó‡§£‡•á (Unethical behavior)', '‡§ï‡§Ç‡§ú‡•Ç‡§∑‡§™‡§£‡§æ (Miserliness)', '‡§™‡§ï‡•ç‡§∑‡§™‡§æ‡§§‡•Ä‡§™‡§£‡§æ (Partiality)', '‡§Ö‡§§‡§ø‡§Æ‡§π‡§§‡•ç‡§µ‡§æ‡§ï‡§æ‡§Ç‡§ï‡•ç‡§∑‡•Ä ‡§Ö‡§∏‡§£‡•á (Over-ambitious)', '‡§Æ‡§®‡•ã‡§∞‡§æ‡§ú‡•ç‡§Ø‡§æ‡§§ ‡§∞‡§Æ‡§£‡•á (Daydreaming)', '‡§¶‡•Å‡§∏‡§±‡•ç‡§Ø‡§æ‡§Ç‡§®‡•Ä ‡§≤‡§ï‡•ç‡§∑ ‡§¶‡•ç‡§Ø‡§æ‡§µ‡•á ‡§Ö‡§∏‡•á ‡§µ‡§æ‡§ü‡§£‡•á (Seeking attention)', '‡§®‡§ø‡§∞‡§æ‡§∂‡§æ‡§µ‡§æ‡§¶‡•Ä ‡§µ‡•É‡§§‡•ç‡§§‡•Ä (Pessimistic attitude)', '‡§á‡§§‡§∞'
        ];

        function renderDoshLevelTable() {
            const tbody = document.getElementById('doshLevelTableBody');
            if (!tbody) return;

            // Ensure we have exactly 5 rows
            while (doshLevels.length < 5) {
                doshLevels.push({ dosh: '', level: '' });
            }
            doshLevels = doshLevels.slice(0, 5);

            tbody.innerHTML = '';

            doshLevels.forEach((item, index) => {
                const tr = document.createElement('tr');
                tr.className = 'hover:bg-slate-50 transition-colors';

                tr.innerHTML = `
                    <td class="border-2 border-slate-300 px-2 md:px-4 py-2 md:py-3 text-center font-bold text-slate-700 text-xs md:text-sm">${index + 1}</td>
                    <td class="border-2 border-slate-300 px-1 md:px-4 py-2 md:py-3">
                        <select class="dosh-select w-full px-2 md:px-3 py-1.5 md:py-2 border border-slate-300 rounded-lg text-[11px] md:text-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none" data-index="${index}" aria-label="‡§¶‡•ã‡§∑ ${index + 1} ‡§®‡§ø‡§µ‡§°‡§æ">
                            <option value="">-- ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§°‡§æ --</option>
                            ${allDoshOptions.map(dosh =>
                    `<option value="${dosh}" ${item.dosh === dosh ? 'selected' : ''}>${dosh}</option>`
                ).join('')}
                        </select>
                    </td>
                    <td class="border-2 border-slate-300 px-2 md:px-4 py-2 md:py-3 text-center">
                        <input type="checkbox" class="level-checkbox w-4 h-4 md:w-5 md:h-5 accent-green-600 cursor-pointer" 
                               data-index="${index}" data-level="high" ${item.level === 'high' ? 'checked' : ''} aria-label="‡§¶‡•ã‡§∑ ${index + 1} ‡§§‡•Ä‡§µ‡•ç‡§∞ ‡§™‡§æ‡§§‡§≥‡•Ä">
                    </td>
                    <td class="border-2 border-slate-300 px-2 md:px-4 py-2 md:py-3 text-center">
                        <input type="checkbox" class="level-checkbox w-4 h-4 md:w-5 md:h-5 accent-yellow-600 cursor-pointer" 
                               data-index="${index}" data-level="medium" ${item.level === 'medium' ? 'checked' : ''} aria-label="‡§¶‡•ã‡§∑ ${index + 1} ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§™‡§æ‡§§‡§≥‡•Ä">
                    </td>
                    <td class="border-2 border-slate-300 px-2 md:px-4 py-2 md:py-3 text-center">
                        <input type="checkbox" class="level-checkbox w-4 h-4 md:w-5 md:h-5 accent-blue-600 cursor-pointer" 
                               data-index="${index}" data-level="low" ${item.level === 'low' ? 'checked' : ''} aria-label="‡§¶‡•ã‡§∑ ${index + 1} ‡§Æ‡§Ç‡§¶ ‡§™‡§æ‡§§‡§≥‡•Ä">
                    </td>
                `;

                tbody.appendChild(tr);
            });

            // Attach event listeners
            attachDoshLevelListeners();
        }

        function attachDoshLevelListeners() {
            // Dosh selection change
            document.querySelectorAll('.dosh-select').forEach(select => {
                select.addEventListener('change', (e) => {
                    const index = parseInt(e.target.dataset.index);
                    doshLevels[index].dosh = e.target.value;
                });
            });

            // Level checkbox change (only one can be selected per row)
            document.querySelectorAll('.level-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', (e) => {
                    const index = parseInt(e.target.dataset.index);
                    const level = e.target.dataset.level;

                    if (e.target.checked) {
                        // Uncheck other checkboxes in the same row
                        document.querySelectorAll(`.level-checkbox[data-index="${index}"]`).forEach(cb => {
                            if (cb !== e.target) cb.checked = false;
                        });
                        doshLevels[index].level = level;
                    } else {
                        doshLevels[index].level = '';
                    }
                });
            });
        }

        // Save button handler
        document.getElementById('saveDoshLevels')?.addEventListener('click', () => {
            // Validate that all rows have both dosh and level selected
            const validEntries = doshLevels.filter(item => item.dosh && item.level);

            if (validEntries.length === 0) {
                showToast('‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§Æ‡§æ‡§® ‡§è‡§ï ‡§¶‡•ã‡§∑ ‡§Ü‡§£‡§ø ‡§™‡§æ‡§§‡§≥‡•Ä ‡§®‡§ø‡§µ‡§°‡§æ');
                return;
            }

            localStorage.setItem(STORAGE_DOSH_LEVELS, JSON.stringify(doshLevels));
            showToast('‡§¶‡•ã‡§∑ ‡§™‡§æ‡§§‡§≥‡•Ä ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡§ø‡§§‡•ç‡§Ø‡§æ ‡§ú‡§§‡§® ‡§ï‡•á‡§≤‡•Ä!');
        });

        // Initial dashboard render on page load
        if (document.getElementById('page-dashboard').classList.contains('active')) {
            renderDashboard();
        }

        // --- Custom Multi-Select Dropdown Logic ---
        const doshTrigger = document.getElementById('doshTrigger');
        const doshDropdown = document.getElementById('doshDropdown');
        const doshSearch = document.getElementById('doshSearch');
        const doshOptions = document.querySelectorAll('.multi-select-option input[type="checkbox"]');
        let selectedDoshValues = [];

        // Toggle dropdown
        doshTrigger.onclick = (e) => {
            e.stopPropagation();
            doshDropdown.classList.toggle('active');
            if (doshDropdown.classList.contains('active')) {
                doshSearch.focus();
            }
        };

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!doshTrigger.contains(e.target) && !doshDropdown.contains(e.target)) {
                doshDropdown.classList.remove('active');
            }
        });

        // Search functionality
        doshSearch.oninput = (e) => {
            const searchTerm = e.target.value.toLowerCase();
            document.querySelectorAll('.multi-select-option').forEach(option => {
                const label = option.querySelector('label').textContent.toLowerCase();
                if (label.includes(searchTerm)) {
                    option.classList.remove('hidden');
                } else {
                    option.classList.add('hidden');
                }
            });
        };

        // Handle checkbox selection
        doshOptions.forEach(checkbox => {
            checkbox.onchange = () => {
                updateSelectedDosh();
                renderDoshBadges();
            };
        });

        function updateSelectedDosh() {
            selectedDoshValues = Array.from(doshOptions)
                .filter(cb => cb.checked)
                .map(cb => cb.value);
        }

        function renderDoshBadges() {
            const placeholder = doshTrigger.querySelector('.multi-select-placeholder');
            const badges = doshTrigger.querySelectorAll('.selected-badge');

            // Remove existing badges
            badges.forEach(badge => badge.remove());

            if (selectedDoshValues.length === 0) {
                if (!placeholder) {
                    const span = document.createElement('span');
                    span.className = 'multi-select-placeholder';
                    span.textContent = '‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§°‡§æ...';
                    doshTrigger.appendChild(span);
                }
            } else {
                // Remove placeholder
                if (placeholder) placeholder.remove();

                // Add badges
                selectedDoshValues.forEach(value => {
                    const badge = document.createElement('span');
                    badge.className = 'selected-badge';
                    badge.innerHTML = `
                        ${value}
                        <button type="button" onclick="removeDosh('${value.replace(/'/g, "\\'")}')">√ó</button>
                    `;
                    doshTrigger.appendChild(badge);
                });
            }
        }

        window.removeDosh = (value) => {
            const checkbox = Array.from(doshOptions).find(cb => cb.value === value);
            if (checkbox) {
                checkbox.checked = false;
                updateSelectedDosh();
                renderDoshBadges();
            }
        };

        function getSelectedDosh() {
            return selectedDoshValues;
        }

        function setSelectedDosh(values) {
            // Uncheck all first
            doshOptions.forEach(cb => cb.checked = false);

            // Check the selected ones
            const valuesArray = Array.isArray(values) ? values : (values ? [values] : []);
            valuesArray.forEach(value => {
                const checkbox = Array.from(doshOptions).find(cb => cb.value === value);
                if (checkbox) checkbox.checked = true;
            });

            updateSelectedDosh();
            renderDoshBadges();
        }

        function clearDoshSelection() {
            doshOptions.forEach(cb => cb.checked = false);
            selectedDoshValues = [];
            renderDoshBadges();
        }

        // --- Wrong Things Logic ---
        const wrongForm = document.getElementById('wrongForm');
        wrongForm.onsubmit = (e) => {
            e.preventDefault();
            const editId = document.getElementById('wrongEditId').value;
            const selectedDosh = getSelectedDosh(); // Use custom dropdown function

            if (selectedDosh.length === 0) {
                showToast("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§Æ‡§æ‡§® ‡§è‡§ï ‡§∏‡•ç‡§µ‡§≠‡§æ‡§µ ‡§¶‡•ã‡§∑ ‡§®‡§ø‡§µ‡§°‡§æ");
                return;
            }

            const data = {
                id: editId || Date.now().toString(),
                Date: document.getElementById('wrongDateInput').value,
                Time: document.getElementById('wrongTimeInput').value,
                Dosh: selectedDosh,
                Classification: document.getElementById('wrongClassificationInput').value,
                WrongThings: document.getElementById('wrongThingsInput').value
            };


            if (editId) {
                const index = wrongLogs.findIndex(l => l.id === editId);
                if (index !== -1) wrongLogs[index] = data;
                document.getElementById('wrongEditId').value = '';
                document.getElementById('wrongSubmitBtn').textContent = '‡§ö‡•Ç‡§ï ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ';
                showToast("‡§ö‡•Ç‡§ï ‡§∏‡•Å‡§ß‡§æ‡§∞‡§≤‡•Ä");
            } else {
                wrongLogs.push(data);
                showToast("‡§ö‡•Ç‡§ï ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•Ä");
            }

            localStorage.setItem(STORAGE_WRONG, JSON.stringify(wrongLogs));
            if (!editId) currentPageWrong = 1;
            renderWrong();
            wrongForm.reset();
            clearDoshSelection(); // Clear custom dropdown
            const now = new Date();
            document.getElementById('wrongDateInput').valueAsDate = now;
            document.getElementById('wrongTimeInput').value = now.toTimeString().slice(0, 5);
            document.getElementById('wrongClassificationInput').value = '';
        };

        // Initialize Search Listeners
        document.getElementById('searchWrongLogs').addEventListener('input', () => {
            currentPageWrong = 1;
            renderWrong();
        });
        document.getElementById('searchDecisionLogs').addEventListener('input', () => {
            currentPageDecision = 1;
            renderDecisions();
        });
        document.getElementById('searchResultLogs').addEventListener('input', () => {
            currentPageResult = 1;
            renderResults();
        });

        function renderPagination(totalItems, currentPage, containerId, onPageChange) {
            const containers = Array.isArray(containerId) ? containerId : [containerId];

            containers.forEach(cid => {
                const container = document.getElementById(cid);
                if (!container) return;
                container.innerHTML = '';

                const totalPages = Math.ceil(totalItems / itemsPerPage);
                if (totalPages <= 1 && itemsPerPage !== 999999) {
                    if (totalItems > 10) {
                        // Still show if we have many items but "All" is selected, to allow switching back
                    } else {
                        return;
                    }
                }

                const nav = document.createElement('div');
                nav.className = 'pagination-container';

                // Left side: Info + Items Per Page
                const leftPart = document.createElement('div');
                leftPart.className = 'flex flex-col gap-1';

                const start = totalItems === 0 ? 0 : ((currentPage - 1) * itemsPerPage) + 1;
                const end = Math.min(currentPage * itemsPerPage, totalItems);

                const info = document.createElement('div');
                info.className = 'pagination-info';
                info.textContent = `${totalItems} ‡§™‡•à‡§ï‡•Ä ${start}-${end} ‡§®‡•ã‡§Ç‡§¶‡•Ä`;
                leftPart.appendChild(info);

                // Items per page selector (Only for bottom container or if requested)
                if (cid.toLowerCase().indexOf('top') === -1) {
                    const ippWrapper = document.createElement('div');
                    ippWrapper.className = 'items-per-page-wrapper';
                    ippWrapper.innerHTML = `
                        <span>‡§¶‡§æ‡§ñ‡§µ‡§æ:</span>
                        <select onchange="updateItemsPerPage(this.value)">
                            <option value="10" ${itemsPerPage === 10 ? 'selected' : ''}>10</option>
                            <option value="20" ${itemsPerPage === 20 ? 'selected' : ''}>20</option>
                            <option value="50" ${itemsPerPage === 50 ? 'selected' : ''}>50</option>
                            <option value="999999" ${itemsPerPage === 999999 ? 'selected' : ''}>‡§∏‡§∞‡•ç‡§µ</option>
                        </select>
                    `;
                    leftPart.appendChild(ippWrapper);
                }

                nav.appendChild(leftPart);

                // Right side: Controls
                const controlsWrapper = document.createElement('div');
                controlsWrapper.className = 'pagination-controls-wrapper';

                const controls = document.createElement('div');
                controls.className = 'pagination-controls';

                // First Button
                const firstBtn = document.createElement('button');
                firstBtn.className = 'pagination-btn';
                firstBtn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg>';
                firstBtn.disabled = currentPage === 1;
                firstBtn.onclick = (e) => { e.preventDefault(); onPageChange(1); };
                controls.appendChild(firstBtn);

                // Prev Button
                const prevBtn = document.createElement('button');
                prevBtn.className = 'pagination-btn';
                prevBtn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="15 18 9 12 15 6"></polyline></svg>';
                prevBtn.disabled = currentPage === 1;
                prevBtn.onclick = (e) => { e.preventDefault(); onPageChange(currentPage - 1); };
                controls.appendChild(prevBtn);

                // Page numbers
                const maxPagesToShow = 5;
                let startPage = Math.max(1, currentPage - 2);
                let endPage = Math.min(totalPages, startPage + maxPagesToShow - 1);

                if (endPage - startPage < maxPagesToShow - 1) {
                    startPage = Math.max(1, endPage - maxPagesToShow + 1);
                }

                for (let i = startPage; i <= endPage; i++) {
                    const btn = document.createElement('button');
                    btn.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                    btn.textContent = i;
                    btn.onclick = (e) => { e.preventDefault(); onPageChange(i); };
                    controls.appendChild(btn);
                }

                // Next Button
                const nextBtn = document.createElement('button');
                nextBtn.className = 'pagination-btn';
                nextBtn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="9 18 15 12 9 6"></polyline></svg>';
                nextBtn.disabled = currentPage === totalPages || totalPages === 0;
                nextBtn.onclick = (e) => { e.preventDefault(); onPageChange(currentPage + 1); };
                controls.appendChild(nextBtn);

                // Last Button
                const lastBtn = document.createElement('button');
                lastBtn.className = 'pagination-btn';
                lastBtn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg>';
                lastBtn.disabled = currentPage === totalPages || totalPages === 0;
                lastBtn.onclick = (e) => { e.preventDefault(); onPageChange(totalPages); };
                controls.appendChild(lastBtn);

                controlsWrapper.appendChild(controls);
                nav.appendChild(controlsWrapper);
                container.appendChild(nav);
            });
        }

        window.updateItemsPerPage = (val) => {
            itemsPerPage = parseInt(val);
            currentPageWrong = 1;
            currentPageDecision = 1;
            currentPageResult = 1;
            renderWrong();
            renderDecisions();
            renderResults();
        };

        function renderWrong() {
            const container = document.getElementById('wrongTableBody');
            const empty = document.getElementById('wrongEmpty');
            const searchTerm = document.getElementById('searchWrongLogs').value.toLowerCase();

            container.innerHTML = '';

            // Filter
            const filteredLogs = wrongLogs.filter(log => {
                if (!searchTerm) return true;
                const doshStr = Array.isArray(log.Dosh) ? log.Dosh.join(' ') : (log.Dosh || '');
                return log.WrongThings.toLowerCase().includes(searchTerm) ||
                    doshStr.toLowerCase().includes(searchTerm) ||
                    (log.Classification && log.Classification.toLowerCase().includes(searchTerm)) ||
                    log.Date.includes(searchTerm);
            });

            // Sort
            filteredLogs.sort((a, b) => {
                const valA = a.Date + (a.Time || '00:00');
                const valB = b.Date + (b.Time || '00:00');
                return valB.localeCompare(valA);
            });

            if (filteredLogs.length === 0) {
                empty.classList.remove('hidden');
                empty.textContent = searchTerm ? '‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§®‡•ã‡§Ç‡§¶ ‡§∏‡§æ‡§™‡§°‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä.' : '‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§ï‡§æ‡§π‡•Ä‡§π‡•Ä ‡§®‡•ã‡§Ç‡§¶ ‡§®‡§æ‡§π‡•Ä.';
                document.getElementById('wrongPagination').innerHTML = '';
                return;
            }

            empty.classList.add('hidden');

            // Pagination logic
            const totalPages = Math.ceil(filteredLogs.length / itemsPerPage);
            if (currentPageWrong > totalPages && totalPages > 0) currentPageWrong = totalPages;

            const startIndex = (currentPageWrong - 1) * itemsPerPage;
            const displayLogs = filteredLogs.slice(startIndex, startIndex + itemsPerPage);

            const fragment = document.createDocumentFragment();

            let lastDate = null;
            displayLogs.forEach(log => {
                // Add Date Header if date changes
                if (log.Date !== lastDate) {
                    const dateHeader = document.createElement('tr');
                    dateHeader.className = "bg-slate-50/50";
                    dateHeader.innerHTML = `<td colspan="3" class="px-6 py-2 text-[11px] font-bold text-slate-500 uppercase tracking-widest bg-slate-100/50 sticky top-0 backdrop-blur-sm shadow-sm">${log.Date}</td>`;
                    fragment.appendChild(dateHeader);
                    lastDate = log.Date;
                }

                const tr = document.createElement('tr');
                tr.className = "hover:bg-slate-50 border-b border-slate-50 group";

                // Handle both old single-value and new array format
                const doshArray = Array.isArray(log.Dosh) ? log.Dosh : (log.Dosh ? [log.Dosh] : []);
                const doshBadges = doshArray.length > 0
                    ? doshArray.map(d => `<span class="inline-block bg-red-100 text-red-700 px-2 py-0.5 rounded-full text-[9px] font-bold mr-1 mb-1 shadow-sm">${d}</span>`).join('')
                    : '<span class="text-slate-500 text-[10px] uppercase font-bold tracking-wider">Uncategorized</span>';

                tr.innerHTML = `<td class="px-2 md:px-6 py-3 md:py-4 w-1/4 align-top">
                        <div class="text-xs font-bold text-slate-700 font-mono bg-slate-100 inline-block px-1.5 py-0.5 rounded">${log.Time || '--:--'}</div>
                    </td>
                    <td class="px-2 md:px-6 py-3 md:py-4 w-1/2 align-top">
                        <div class="mb-2">
                            ${doshBadges}
                            ${log.Classification ? `<span class="inline-block bg-slate-200 text-slate-700 px-2 py-0.5 rounded-full text-[9px] font-bold mr-1 mb-1 shadow-sm border border-slate-300">${log.Classification}</span>` : ''}
                        </div>
                        <div class="text-sm text-slate-700 font-medium word-wrapper">${getExpandableText(log.WrongThings, 'w-' + log.id)}</div>
                    </td>
                    <td class="px-2 md:px-6 py-3 md:py-4 text-right w-1/4 align-top">
                        <div class="flex justify-end gap-2 md:gap-3 opacity-0 group-hover:opacity-100 transition-opacity">
                            <button onclick="editEntry('wrong', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-blue-600 hover:bg-blue-50 transition-all">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                            </button>
                            <button onclick="deleteEntry('wrong', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50 transition-all">‚úï</button>
                        </div>
                    </td>`;
                fragment.appendChild(tr);
            });

            container.appendChild(fragment);

            // Render Pagination (Top & Bottom)
            const paginationContainers = ['wrongPaginationTop', 'wrongPagination'];
            renderPagination(filteredLogs.length, currentPageWrong, paginationContainers, (newPage) => {
                currentPageWrong = newPage;
                renderWrong();
                // Scroll to top of table
                container.closest('.bg-white').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        }

        // --- Decision Logic ---
        const decisionForm = document.getElementById('decisionForm');
        // Custom Wrong Thing Dropdown Logic
        const wtTrigger = document.getElementById('wrongThingTrigger');
        const wtDropdown = document.getElementById('wrongThingDropdown');
        const wtInput = document.getElementById('wrongThingSelector');
        const wtSearch = document.getElementById('wrongThingSearch');

        wtTrigger.onclick = (e) => {
            e.stopPropagation();
            wtDropdown.classList.toggle('hidden');
            if (!wtDropdown.classList.contains('hidden')) {
                wtSearch.value = '';
                wtSearch.focus();

                const container = document.getElementById('wrongThingOptions');
                const showAll = container.dataset.showAll === 'true';
                const options = container.children;

                Array.from(options).forEach(opt => {
                    if (opt.dataset.type === 'header' || opt.classList.contains('load-more-btn')) return;
                    if (showAll || opt.dataset.recent === 'true') opt.classList.remove('hidden');
                    else opt.classList.add('hidden');
                });
                updateDropdownHeaders('wrongThingOptions', '');
            }
        };

        // Close dropdowns when clicking outside
        document.addEventListener('click', (e) => {
            if (!wtTrigger.contains(e.target) && !wtDropdown.contains(e.target)) {
                wtDropdown.classList.add('hidden');
            }
            const dtTrigger = document.getElementById('decisionTrigger');
            const dtDropdown = document.getElementById('decisionDropdown');
            if (dtTrigger && dtDropdown && !dtTrigger.contains(e.target) && !dtDropdown.contains(e.target)) {
                dtDropdown.classList.add('hidden');
            }
        });

        // Custom Decision Dropdown Logic
        const dtTrigger = document.getElementById('decisionTrigger');
        const dtDropdown = document.getElementById('decisionDropdown');
        const dtInput = document.getElementById('decisionSelector');
        const dtSearch = document.getElementById('decisionSearch');

        if (dtTrigger) {
            dtTrigger.onclick = (e) => {
                e.stopPropagation();
                dtDropdown.classList.toggle('hidden');
                if (!dtDropdown.classList.contains('hidden')) {
                    dtSearch.value = '';
                    dtSearch.focus();

                    const container = document.getElementById('decisionOptions');
                    const showAll = container.dataset.showAll === 'true';
                    const options = container.children;

                    Array.from(options).forEach(opt => {
                        if (opt.dataset.type === 'header' || opt.classList.contains('load-more-btn')) return;
                        if (showAll || opt.dataset.recent === 'true') opt.classList.remove('hidden');
                        else opt.classList.add('hidden');
                    });
                    updateDropdownHeaders('decisionOptions', '');
                }
            };
        }

        function updateDropdownHeaders(containerId, term) {
            const container = document.getElementById(containerId);
            if (!container) return;
            const children = Array.from(container.children);
            const showAll = container.dataset.showAll === 'true';
            let currentHeader = null;
            let hasVisibleChild = false;

            children.forEach(el => {
                if (el.dataset.type === 'header') {
                    if (currentHeader) {
                        currentHeader.classList.toggle('hidden', !hasVisibleChild);
                    }
                    currentHeader = el;
                    hasVisibleChild = false;
                } else if (!el.classList.contains('hidden') && !el.classList.contains('load-more-btn')) {
                    hasVisibleChild = true;
                }
            });
            if (currentHeader) {
                currentHeader.classList.toggle('hidden', !hasVisibleChild);
            }
            // Ensure load more button is always visible if it exists and we haven't clicked show all
            const loadMore = container.querySelector('.load-more-btn');
            if (loadMore) {
                loadMore.classList.toggle('hidden', showAll || (term !== ''));
            }
        }

        if (dtSearch) {
            dtSearch.oninput = (e) => {
                const term = e.target.value.toLowerCase();
                const container = document.getElementById('decisionOptions');
                const showAll = container.dataset.showAll === 'true';
                const options = container.children;

                Array.from(options).forEach(opt => {
                    if (opt.dataset.type === 'header' || opt.classList.contains('load-more-btn')) return;
                    const text = opt.textContent.toLowerCase();
                    if (term) {
                        if (text.includes(term)) opt.classList.remove('hidden');
                        else opt.classList.add('hidden');
                    } else {
                        if (showAll || opt.dataset.recent === 'true') opt.classList.remove('hidden');
                        else opt.classList.add('hidden');
                    }
                });
                updateDropdownHeaders('decisionOptions', term);
            };
        }

        wtSearch.oninput = (e) => {
            const term = e.target.value.toLowerCase();
            const container = document.getElementById('wrongThingOptions');
            const showAll = container.dataset.showAll === 'true';
            const options = container.children;

            Array.from(options).forEach(opt => {
                if (opt.dataset.type === 'header' || opt.classList.contains('load-more-btn')) return;
                const text = opt.textContent.toLowerCase();
                if (term) {
                    if (text.includes(term)) opt.classList.remove('hidden');
                    else opt.classList.add('hidden');
                } else {
                    if (showAll || opt.dataset.recent === 'true') opt.classList.remove('hidden');
                    else opt.classList.add('hidden');
                }
            });
            updateDropdownHeaders('wrongThingOptions', term);
        };

        function populateWrongSelector() {
            const container = document.getElementById('wrongThingOptions');
            container.innerHTML = '';

            if (wrongLogs.length === 0) {
                container.innerHTML = '<div class="p-3 text-xs text-slate-600 italic">‡§Ö‡§ú‡•Ç‡§® ‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§ö‡•Ç‡§ï ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä.</div>';
                return;
            }

            // Sort by date/time newest first
            const sortedLogs = [...wrongLogs].sort((a, b) => {
                const valA = a.Date + (a.Time || '00:00');
                const valB = b.Date + (b.Time || '00:00');
                return valB.localeCompare(valA);
            });

            let lastDate = null;
            let visibleCount = 0;
            const maxInitialEntries = 15; // Show first 15 by default
            const showAll = container.dataset.showAll === 'true';

            sortedLogs.forEach((log, index) => {
                const recent = isRecent(log.Date);
                const isOverLimit = !showAll && index >= maxInitialEntries;

                if (log.Date !== lastDate) {
                    const header = document.createElement('div');
                    header.className = 'multi-select-group-label px-3 py-1.5 bg-slate-50 text-[10px] font-bold text-slate-500 uppercase tracking-widest sticky top-0 border-b border-slate-100 z-10';
                    header.textContent = log.Date;
                    header.dataset.type = 'header';
                    header.dataset.recent = recent;

                    if (isOverLimit) header.classList.add('hidden');
                    container.appendChild(header);
                    lastDate = log.Date;
                }

                const div = document.createElement('div');
                div.dataset.recent = recent;
                div.className = 'px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 cursor-pointer border-b border-slate-50 last:border-0 whitespace-normal break-all';

                if (isOverLimit) div.classList.add('hidden');

                div.innerHTML = `<span class="hidden">[${log.Date}]</span> ${log.WrongThings}`;
                div.onclick = () => {
                    wtInput.value = log.id;
                    const span = wtTrigger.querySelector('span');
                    span.textContent = `[${log.Date}] ${log.WrongThings}`;
                    span.classList.remove('text-slate-500');
                    span.classList.add('text-slate-800');
                    wtDropdown.classList.add('hidden');
                    updateWrongPreview(log.id);
                };
                container.appendChild(div);
            });

            // Add "Show All" button if there are more entries
            if (!showAll && sortedLogs.length > maxInitialEntries) {
                const loadMore = document.createElement('div');
                loadMore.className = 'load-more-btn';
                loadMore.innerHTML = `<span>‡§∏‡§∞‡•ç‡§µ ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§™‡§π‡§æ (${sortedLogs.length} ‡§®‡•ã‡§Ç‡§¶‡•Ä)</span>`;
                loadMore.onclick = (e) => {
                    e.stopPropagation();
                    container.dataset.showAll = 'true';
                    populateWrongSelector();
                    // Keep dropdown open
                    wtDropdown.classList.remove('hidden');
                    wtSearch.focus();
                };
                container.appendChild(loadMore);
            }
        }

        decisionForm.onsubmit = (e) => {
            e.preventDefault();
            const editId = document.getElementById('decisionEditId').value;
            const wrongId = document.getElementById('wrongThingSelector').value;
            const wrongEntry = wrongLogs.find(l => l.id === wrongId);
            const data = {
                id: editId || Date.now().toString(),
                wrongId,
                wrongText: wrongEntry.WrongThings,
                decision: document.getElementById('decisionInput').value,
                date: new Date().toISOString().split('T')[0]
            };

            if (editId) {
                const index = decisionLogs.findIndex(l => l.id === editId);
                if (index !== -1) decisionLogs[index] = data;
                document.getElementById('decisionEditId').value = '';
                document.getElementById('decisionSubmitBtn').textContent = '‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ';
                showToast("‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§∏‡•Å‡§ß‡§æ‡§∞‡§≤‡§æ");
            } else {
                decisionLogs.push(data);
                showToast("‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡§æ");
            }

            localStorage.setItem(STORAGE_DECISION, JSON.stringify(decisionLogs));
            if (!editId) currentPageDecision = 1;
            renderDecisions();
            decisionForm.reset();
            updateWrongPreview(null);
        };

        function updateWrongPreview(logId) {
            const preview = document.getElementById('wrongThingPreview');
            if (!logId) {
                preview.innerHTML = '';
                preview.classList.add('hidden');
                return;
            }
            const log = wrongLogs.find(l => l.id === logId);
            if (!log) {
                preview.classList.add('hidden');
                return;
            }

            const doshArray = Array.isArray(log.Dosh) ? log.Dosh : (log.Dosh ? [log.Dosh] : []);
            const doshBadges = doshArray.length > 0
                ? doshArray.map(d => `<span class="inline-block bg-red-100 text-red-700 px-2 py-0.5 rounded-full text-[9px] font-bold mr-1 mb-1 shadow-sm">${d}</span>`).join('')
                : '<span class="text-slate-500 text-[10px] uppercase font-bold tracking-wider">Uncategorized</span>';

            preview.innerHTML = `
                <div class="mt-4 p-4 bg-slate-50 rounded-2xl border border-slate-100 shadow-inner">
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider">‡§®‡§ø‡§µ‡§°‡§≤‡•á‡§≤‡•Ä ‡§ö‡•Ç‡§ï ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä:</span>
                        <div class="text-[10px] font-mono text-slate-600 bg-white px-1.5 py-0.5 rounded border border-slate-100 flex gap-2">
                             <span>üìÖ ${log.Date}</span>
                             <span>‚è∞ ${log.Time || '--:--'}</span>
                        </div>
                    </div>
                    <div class="mb-2 flex flex-wrap">${doshBadges}</div>
                    <p class="text-xs text-slate-600 italic leading-relaxed word-wrapper border-l-2 border-red-200 pl-3">"${log.WrongThings}"</p>
                </div>
            `;
            preview.classList.remove('hidden');
        }

        function renderDecisions() {
            const container = document.getElementById('decisionTableBody');
            const empty = document.getElementById('decisionEmpty');
            const searchTerm = document.getElementById('searchDecisionLogs').value.toLowerCase();

            container.innerHTML = '';

            // Filter
            const filteredLogs = decisionLogs.filter(log => {
                if (!searchTerm) return true;
                return log.decision.toLowerCase().includes(searchTerm) ||
                    (log.wrongText && log.wrongText.toLowerCase().includes(searchTerm));
            });

            // Sort (Newest Date First)
            filteredLogs.sort((a, b) => (b.date || '').localeCompare(a.date || ''));

            if (filteredLogs.length === 0) {
                empty.classList.remove('hidden');
                empty.textContent = searchTerm ? '‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§∏‡§æ‡§™‡§°‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.' : '‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.';
                document.getElementById('decisionPagination').innerHTML = '';
                return;
            }

            empty.classList.add('hidden');

            // Pagination logic
            const totalPages = Math.ceil(filteredLogs.length / itemsPerPage);
            if (currentPageDecision > totalPages && totalPages > 0) currentPageDecision = totalPages;

            const startIndex = (currentPageDecision - 1) * itemsPerPage;
            const displayLogs = filteredLogs.slice(startIndex, startIndex + itemsPerPage);

            const fragment = document.createDocumentFragment();

            let lastDate = null;
            displayLogs.forEach(log => {
                if (log.date !== lastDate) {
                    const dateHeader = document.createElement('tr');
                    dateHeader.className = "bg-slate-50/50";
                    dateHeader.innerHTML = `<td colspan="2" class="px-6 py-2 text-[11px] font-bold text-slate-500 uppercase tracking-widest bg-slate-100/50 sticky top-0">${log.date || '‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä'}</td>`;
                    fragment.appendChild(dateHeader);
                    lastDate = log.date;
                }

                const tr = document.createElement('tr');
                tr.className = "hover:bg-slate-50 border-b border-slate-50 group";

                // Find original Dosh for context
                const originalWrong = wrongLogs.find(w => w.id === log.wrongId);
                const doshArray = originalWrong ? (Array.isArray(originalWrong.Dosh) ? originalWrong.Dosh : [originalWrong.Dosh]) : [];
                const doshBadges = doshArray.length > 0
                    ? doshArray.map(d => `<span class="inline-block bg-red-50 text-red-600 border border-red-100 px-1.5 py-0.5 rounded text-[8px] font-bold mr-1 italic">${d}</span>`).join('')
                    : '';

                tr.innerHTML = `<td class="px-2 md:px-6 py-3 md:py-4 w-3/4 align-top">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="text-[10px] text-red-600 uppercase font-bold">‡§Æ‡•Ç‡§≥ ‡§ö‡•Ç‡§ï:</span>
                        <div class="flex flex-wrap">${doshBadges}</div>
                    </div>
                    <div class="text-xs text-slate-600 italic mb-3 pl-3 border-l-2 border-red-100 word-wrapper">"${log.wrongText}"</div>
                    
                    <div class="text-[10px] text-blue-600 uppercase font-bold mb-1">‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø:</div>
                    <div class="text-sm font-medium text-slate-800 word-wrapper">${getExpandableText(log.decision, 'd-' + log.id)}</div>
                </td>
                <td class="px-2 md:px-6 py-3 md:py-4 text-right w-1/4 align-top">
                    <div class="flex justify-end gap-2 md:gap-3 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button onclick="editEntry('decision', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-blue-600 hover:bg-blue-50 transition-all">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                        </button>
                        <button onclick="deleteEntry('decision', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50 transition-all">‚úï</button>
                    </div>
                </td>`;
                fragment.appendChild(tr);
            });

            container.appendChild(fragment);

            // Render Pagination (Top & Bottom)
            const paginationContainers = ['decisionPaginationTop', 'decisionPagination'];
            renderPagination(filteredLogs.length, currentPageDecision, paginationContainers, (newPage) => {
                currentPageDecision = newPage;
                renderDecisions();
                container.closest('.bg-white').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        }

        // --- Results Logic ---
        const resultForm = document.getElementById('resultForm');
        function populateDecisionSelector() {
            const container = document.getElementById('decisionOptions');
            const dtTrigger = document.getElementById('decisionTrigger');
            const dtInput = document.getElementById('decisionSelector');
            if (!container) return;
            container.innerHTML = '';

            if (decisionLogs.length === 0) {
                container.innerHTML = '<div class="p-3 text-xs text-slate-600 italic">‡§Ö‡§ú‡•Ç‡§® ‡§ï‡•ã‡§£‡§§‡§æ‡§π‡•Ä ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡§æ ‡§®‡§æ‡§π‡•Ä.</div>';
                return;
            }

            // Sort by date newest first
            const sortedLogs = [...decisionLogs].sort((a, b) => (b.date || '').localeCompare(a.date || ''));

            let lastDate = null;
            const maxInitialEntries = 15;
            const showAll = container.dataset.showAll === 'true';

            sortedLogs.forEach((log, index) => {
                const recent = isRecent(log.date);
                const isOverLimit = !showAll && index >= maxInitialEntries;

                if (log.date !== lastDate) {
                    const header = document.createElement('div');
                    header.className = 'multi-select-group-label px-3 py-1.5 bg-slate-50 text-[10px] font-bold text-slate-500 uppercase tracking-widest sticky top-0 border-b border-slate-100 z-10';
                    header.textContent = log.date;
                    header.dataset.type = 'header';
                    header.dataset.recent = recent;
                    if (isOverLimit) header.classList.add('hidden');
                    container.appendChild(header);
                    lastDate = log.date;
                }
                const div = document.createElement('div');
                div.dataset.recent = recent;
                div.className = 'px-3 py-2 text-sm text-slate-700 hover:bg-slate-50 cursor-pointer border-b border-slate-50 last:border-0 whitespace-normal break-all';
                if (isOverLimit) div.classList.add('hidden');
                div.innerHTML = `<span class="hidden">[${log.date}]</span> ${log.decision}`;
                div.onclick = () => {
                    dtInput.value = log.id;
                    const span = dtTrigger.querySelector('span');
                    span.textContent = `[${log.date}] ${log.decision}`;
                    span.classList.remove('text-slate-500');
                    span.classList.add('text-slate-800');
                    document.getElementById('decisionDropdown').classList.add('hidden');
                };
                container.appendChild(div);
            });

            if (!showAll && sortedLogs.length > maxInitialEntries) {
                const loadMore = document.createElement('div');
                loadMore.className = 'load-more-btn';
                loadMore.innerHTML = `<span>‡§∏‡§∞‡•ç‡§µ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§á‡§§‡§ø‡§π‡§æ‡§∏ ‡§™‡§π‡§æ (${sortedLogs.length} ‡§®‡•ã‡§Ç‡§¶‡•Ä)</span>`;
                loadMore.onclick = (e) => {
                    e.stopPropagation();
                    container.dataset.showAll = 'true';
                    populateDecisionSelector();
                    const dropdown = document.getElementById('decisionDropdown');
                    if (dropdown) dropdown.classList.remove('hidden');
                    const search = document.getElementById('decisionSearch');
                    if (search) search.focus();
                };
                container.appendChild(loadMore);
            }
        }

        resultForm.onsubmit = (e) => {
            e.preventDefault();
            const editId = document.getElementById('resultEditId').value;
            const decisionId = document.getElementById('decisionSelector').value;
            const decisionEntry = decisionLogs.find(l => l.id === decisionId);
            const data = {
                id: editId || Date.now().toString(),
                decisionId,
                decisionText: decisionEntry.decision,
                result: document.getElementById('resultInput').value,
                date: new Date().toISOString().split('T')[0]
            };

            if (editId) {
                const index = resultLogs.findIndex(l => l.id === editId);
                if (index !== -1) resultLogs[index] = data;
                document.getElementById('resultEditId').value = '';
                document.getElementById('resultSubmitBtn').textContent = '‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§ú‡§§‡§® ‡§ï‡§∞‡§æ';
                showToast("‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡•á‡§≤‡§æ");
            } else {
                resultLogs.push(data);
                showToast("‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡§æ");
            }

            localStorage.setItem(STORAGE_RESULT, JSON.stringify(resultLogs));
            if (!editId) currentPageResult = 1;
            renderResults();
            resultForm.reset();
            const dtTrigger = document.getElementById('decisionTrigger');
            if (dtTrigger) {
                const span = dtTrigger.querySelector('span');
                span.textContent = '-- ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø‡§æ‡§Ç‡§Æ‡§ß‡•Ç‡§® ‡§®‡§ø‡§µ‡§°‡§æ --';
                span.classList.add('text-slate-500');
                span.classList.remove('text-slate-800');
            }
            document.getElementById('decisionSelector').value = '';
        };

        function renderResults() {
            const container = document.getElementById('resultsTableBody');
            const empty = document.getElementById('resultsEmpty');
            const searchTerm = document.getElementById('searchResultLogs').value.toLowerCase();

            container.innerHTML = '';

            // Filter
            const filteredLogs = resultLogs.filter(log => {
                if (!searchTerm) return true;
                return log.result.toLowerCase().includes(searchTerm) ||
                    (log.decisionText && log.decisionText.toLowerCase().includes(searchTerm));
            });

            // Sort (Newest Date First)
            filteredLogs.sort((a, b) => (b.date || '').localeCompare(a.date || ''));

            if (filteredLogs.length === 0) {
                empty.classList.remove('hidden');
                empty.textContent = searchTerm ? '‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§∏‡§æ‡§™‡§°‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.' : '‡§Ö‡§¶‡•ç‡§Ø‡§æ‡§™ ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§®‡•ã‡§Ç‡§¶‡§µ‡§≤‡•á ‡§®‡§æ‡§π‡•Ä‡§§.';
                document.getElementById('resultPagination').innerHTML = '';
                return;
            }

            empty.classList.add('hidden');

            // Pagination logic
            const totalPages = Math.ceil(filteredLogs.length / itemsPerPage);
            if (currentPageResult > totalPages && totalPages > 0) currentPageResult = totalPages;

            const startIndex = (currentPageResult - 1) * itemsPerPage;
            const displayLogs = filteredLogs.slice(startIndex, startIndex + itemsPerPage);

            const fragment = document.createDocumentFragment();

            let lastDate = null;
            displayLogs.forEach(log => {
                if (log.date !== lastDate) {
                    const dateHeader = document.createElement('tr');
                    dateHeader.className = "bg-slate-50/50";
                    dateHeader.innerHTML = `<td colspan="2" class="px-6 py-2 text-[11px] font-bold text-slate-500 uppercase tracking-widest bg-slate-100/50 sticky top-0">${log.date || '‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§æ‡§π‡•Ä'}</td>`;
                    fragment.appendChild(dateHeader);
                    lastDate = log.date;
                }

                const tr = document.createElement('tr');
                tr.className = "hover:bg-slate-50 border-b border-slate-50 group";

                // Find original Dosh for context
                const decEntry = decisionLogs.find(d => d.id === log.decisionId);
                const originalWrong = decEntry ? wrongLogs.find(w => w.id === decEntry.wrongId) : null;
                const doshArray = originalWrong ? (Array.isArray(originalWrong.Dosh) ? originalWrong.Dosh : [originalWrong.Dosh]) : [];
                const doshBadges = doshArray.length > 0
                    ? doshArray.map(d => `<span class="inline-block bg-blue-50 text-blue-600 border border-blue-100 px-1.5 py-0.5 rounded text-[8px] font-bold mr-1 italic">${d}</span>`).join('')
                    : '';

                tr.innerHTML = `<td class="px-2 md:px-6 py-3 md:py-4 w-3/4 align-top">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="text-[10px] text-blue-600 uppercase font-bold">‡§Æ‡•Ç‡§≥ ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø:</span>
                        <div class="flex flex-wrap">${doshBadges}</div>
                    </div>
                    <div class="text-xs text-slate-600 italic mb-3 pl-3 border-l-2 border-blue-100 word-wrapper">"${log.decisionText}"</div>
                    
                    <div class="text-[10px] text-emerald-600 uppercase font-bold mb-1">‡§™‡§∞‡§ø‡§£‡§æ‡§Æ / ‡§¨‡§¶‡§≤:</div>
                    <div class="text-sm font-bold text-emerald-700 word-wrapper">${getExpandableText(log.result, 'r-' + log.id)}</div>
                </td>
                <td class="px-2 md:px-6 py-3 md:py-4 text-right w-1/4 align-top">
                    <div class="flex justify-end gap-2 md:gap-3 opacity-0 group-hover:opacity-100 transition-opacity">
                        <button onclick="editEntry('result', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-blue-600 hover:bg-blue-50 transition-all">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                        </button>
                        <button onclick="deleteEntry('result', '${log.id}')" class="p-1.5 rounded-lg text-slate-500 hover:text-red-600 hover:bg-red-50 transition-all">‚úï</button>
                    </div>
                </td>`;
                fragment.appendChild(tr);
            });

            container.appendChild(fragment);

            // Render Pagination (Top & Bottom)
            const paginationContainers = ['resultPaginationTop', 'resultPagination'];
            renderPagination(filteredLogs.length, currentPageResult, paginationContainers, (newPage) => {
                currentPageResult = newPage;
                renderResults();
                container.closest('.bg-white').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        }

        // --- General ---
        window.editEntry = (type, id) => {
            if (type === 'wrong') {
                const log = wrongLogs.find(l => l.id === id);
                if (!log) return;
                document.getElementById('wrongEditId').value = log.id;
                document.getElementById('wrongDateInput').value = log.Date;
                document.getElementById('wrongTimeInput').value = log.Time;

                // Handle multi-select restoration with custom dropdown
                const doshArray = Array.isArray(log.Dosh) ? log.Dosh : (log.Dosh ? [log.Dosh] : []);
                setSelectedDosh(doshArray); // Use custom dropdown function

                document.getElementById('wrongClassificationInput').value = log.Classification || '';
                document.getElementById('wrongThingsInput').value = log.WrongThings;
                document.getElementById('wrongSubmitBtn').textContent = '‡§ö‡•Ç‡§ï ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ';
                document.getElementById('page-wrong').scrollIntoView({ behavior: 'smooth' });
            } else if (type === 'decision') {
                const log = decisionLogs.find(l => l.id === id);
                if (!log) return;
                document.getElementById('decisionEditId').value = log.id;
                populateWrongSelector();
                document.getElementById('wrongThingSelector').value = log.wrongId;

                // Update trigger text for custom dropdown
                const wrongEntry = wrongLogs.find(w => w.id === log.wrongId);
                if (wrongEntry) {
                    const span = document.getElementById('wrongThingTrigger').querySelector('span');
                    span.textContent = `[${wrongEntry.Date}] ${wrongEntry.WrongThings.substring(0, 50)}...`;
                    span.classList.remove('text-slate-500');
                    span.classList.add('text-slate-800');
                }

                document.getElementById('decisionInput').value = log.decision;
                document.getElementById('decisionSubmitBtn').textContent = '‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ';
                updateWrongPreview(log.wrongId);
                document.getElementById('page-decision').scrollIntoView({ behavior: 'smooth' });
            } else if (type === 'result') {
                const log = resultLogs.find(l => l.id === id);
                if (!log) return;
                document.getElementById('resultEditId').value = log.id;
                populateDecisionSelector();
                document.getElementById('decisionSelector').value = log.decisionId;
                document.getElementById('resultInput').value = log.result;
                document.getElementById('resultSubmitBtn').textContent = '‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡§æ';

                // Update decision selector trigger
                const decisionEntry = decisionLogs.find(d => d.id === log.decisionId);
                if (decisionEntry) {
                    const span = document.getElementById('decisionTrigger').querySelector('span');
                    span.textContent = `[${decisionEntry.date}] ${decisionEntry.decision.substring(0, 50)}...`;
                    span.classList.remove('text-slate-500');
                    span.classList.add('text-slate-800');
                }

                document.getElementById('page-results').scrollIntoView({ behavior: 'smooth' });
            }
        };

        window.deleteEntry = (type, id) => {
            if (!confirm("‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§≤‡§æ ‡§ñ‡§æ‡§§‡•ç‡§∞‡•Ä ‡§Ü‡§π‡•á, ‡§π‡•Ä ‡§®‡•ã‡§Ç‡§¶ ‡§°‡§ø‡§≤‡•Ä‡§ü ‡§ï‡§∞‡§æ‡§Ø‡§ö‡•Ä ‡§Ü‡§π‡•á?")) return;
            if (type === 'wrong') {
                wrongLogs = wrongLogs.filter(l => l.id !== id);
                localStorage.setItem(STORAGE_WRONG, JSON.stringify(wrongLogs));
                renderWrong();
            } else if (type === 'decision') {
                decisionLogs = decisionLogs.filter(l => l.id !== id);
                localStorage.setItem(STORAGE_DECISION, JSON.stringify(decisionLogs));
                renderDecisions();
            } else {
                resultLogs = resultLogs.filter(l => l.id !== id);
                localStorage.setItem(STORAGE_RESULT, JSON.stringify(resultLogs));
                renderResults();
            }
        };

        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.classList.replace('opacity-0', 'opacity-100');
            t.classList.replace('translate-y-10', 'translate-y-0');
            setTimeout(() => {
                t.classList.replace('opacity-100', 'opacity-0');
                t.classList.replace('translate-y-0', 'translate-y-10');
            }, 3000);
        }

        document.getElementById('exportAllBtn').onclick = async () => {
            if (typeof XLSX === 'undefined') {
                showToast("‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§á‡§Ç‡§ú‡§ø‡§® ‡§≤‡•ã‡§° ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...");
                try {
                    await new Promise((resolve, reject) => {
                        const script = document.createElement('script');
                        script.src = "https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js";
                        script.onload = resolve;
                        script.onerror = () => reject(new Error("Failed to load XLSX library"));
                        document.head.appendChild(script);
                    });
                } catch (err) {
                    showToast("‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§≤‡§æ‡§Ø‡§¨‡•ç‡§∞‡§∞‡•Ä ‡§≤‡•ã‡§° ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏ ‡§Ö‡§ï‡•ç‡§∑‡§Æ.");
                    return;
                }
            }

            // 1. Create Consolidated Master Sheet (Mistake -> Decision -> Result)
            const consolidatedData = [];
            wrongLogs.forEach(mistake => {
                const mistakesDecisions = decisionLogs.filter(d => d.wrongId === mistake.id);

                if (mistakesDecisions.length === 0) {
                    const doshStr = Array.isArray(mistake.Dosh) ? mistake.Dosh.join(', ') : (mistake.Dosh || "-");
                    consolidatedData.push({
                        "Date": mistake.Date,
                        "Time": mistake.Time,
                        "Dosh": doshStr,
                        "Mistake Description": mistake.WrongThings,
                        "Right Decision": "Pending",
                        "Outcome/Change": "Pending"
                    });
                } else {
                    mistakesDecisions.forEach(decision => {
                        const decisionResults = resultLogs.filter(r => r.decisionId === decision.id);

                        if (decisionResults.length === 0) {
                            const doshStr = Array.isArray(mistake.Dosh) ? mistake.Dosh.join(', ') : (mistake.Dosh || "-");
                            consolidatedData.push({
                                "Date": mistake.Date,
                                "Time": mistake.Time,
                                "Dosh": doshStr,
                                "Mistake Description": mistake.WrongThings,
                                "Right Decision": decision.decision,
                                "Outcome/Change": "Pending"
                            });
                        } else {
                            decisionResults.forEach(res => {
                                const doshStr = Array.isArray(mistake.Dosh) ? mistake.Dosh.join(', ') : (mistake.Dosh || "-");
                                consolidatedData.push({
                                    "Date": mistake.Date,
                                    "Time": mistake.Time,
                                    "Dosh": doshStr,
                                    "Mistake Description": mistake.WrongThings,
                                    "Right Decision": decision.decision,
                                    "Outcome/Change": res.result
                                });
                            });
                        }
                    });
                }
            });

            // 2. Individual Section Mappings
            const exportMistakes = wrongLogs.map(l => {
                const doshStr = Array.isArray(l.Dosh) ? l.Dosh.join(', ') : (l.Dosh || "-");
                return {
                    "Date": l.Date,
                    "Time": l.Time,
                    "Dosh": doshStr,
                    "Mistake Description": l.WrongThings
                };
            });

            const exportDecisions = decisionLogs.map(l => ({
                "Original Mistake": l.wrongText,
                "Right Decision": l.decision,
                "Date Logged": l.date
            }));

            const exportResults = resultLogs.map(l => ({
                "Applied Decision": l.decisionText,
                "Outcome / Change": l.result,
                "Date Logged": l.date
            }));

            const wb = XLSX.utils.book_new();

            // Add Master Sheet first
            XLSX.utils.book_append_sheet(wb, XLSX.utils.json_to_sheet(consolidatedData), "Master Journey Log");

            // Then individual sheets
            XLSX.utils.book_append_sheet(wb, XLSX.utils.json_to_sheet(exportMistakes), "1-All Mistakes History");
            XLSX.utils.book_append_sheet(wb, XLSX.utils.json_to_sheet(exportDecisions), "2-All Decisions Taken");
            XLSX.utils.book_append_sheet(wb, XLSX.utils.json_to_sheet(exportResults), "3-All Transformation Results");

            // Download the file
            XLSX.writeFile(wb, "Sanatan_Sanstha_Audit_Complete.xlsx");
            showToast("‡§∏‡§∞‡•ç‡§µ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä ‡§è‡§ï‡•ç‡§∏‡•á‡§≤ ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§è‡§ï‡•ç‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ù‡§æ‡§≤‡•Ä!");
        };

        const modal = document.getElementById('settingsModal');
        document.getElementById('menuBtn').onclick = () => modal.classList.remove('hidden');
        document.getElementById('closeModal').onclick = () => modal.classList.add('hidden');
        document.getElementById('modalOverlay').onclick = () => modal.classList.add('hidden');

        document.getElementById('langSelect').onchange = (e) => {
            const googleSelect = document.querySelector('.goog-te-combo');
            if (googleSelect) {
                googleSelect.value = e.target.value;
                googleSelect.dispatchEvent(new Event('change', { bubbles: true }));
                localStorage.setItem(LANG_KEY, e.target.value);
                showToast("‡§≠‡§æ‡§∑‡§æ ‡§¨‡§¶‡§≤‡§≤‡•Ä");
                modal.classList.add('hidden');
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const now = new Date();
            document.getElementById('wrongDateInput').valueAsDate = now;
            document.getElementById('wrongTimeInput').value = now.toTimeString().slice(0, 5);

            // Initial render for active page only to improve TTI
            renderWrong();

            // Defer other renders to keep main thread free during initialization
            setTimeout(() => {
                renderDecisions();
                renderResults();
                initTranslate();
            }, 500);
        });

        function initTranslate() {
            const savedLang = localStorage.getItem(LANG_KEY);
            if (savedLang) {
                document.getElementById('langSelect').value = savedLang;
                const check = setInterval(() => {
                    const sel = document.querySelector('.goog-te-combo');
                    if (sel) {
                        sel.value = savedLang;
                        sel.dispatchEvent(new Event('change', { bubbles: true }));
                        clearInterval(check);
                    }
                }, 100);
                setTimeout(() => clearInterval(check), 5000);
            }
        }

        // --- Background Music Logic ---
        const audio = document.getElementById('bgMusic');
        const audioBtn = document.getElementById('audioBtn');
        const audioLabel = document.getElementById('audioLabel');
        const iconMuted = document.getElementById('icon-muted');
        const iconPlaying = document.getElementById('icon-playing');
        let isPlaying = false;

        function updateAudioUI(playing) {
            if (playing) {
                iconMuted.classList.add('hidden');
                iconPlaying.classList.remove('hidden');
                audioBtn.classList.add('bg-orange-100');
                audioLabel.classList.add('animate-pulse');
            } else {
                iconPlaying.classList.add('hidden');
                iconMuted.classList.remove('hidden');
                audioBtn.classList.remove('bg-orange-100');
                audioLabel.classList.remove('animate-pulse');
            }
            isPlaying = playing;
        }

        function toggleAudio() {
            if (isPlaying) {
                audio.pause();
                updateAudioUI(false);
            } else {
                audio.play().then(() => {
                    updateAudioUI(true);
                }).catch(err => {
                    console.log("Playback failed:", err);
                    updateAudioUI(false);
                });
            }
        }



        audioBtn.onclick = (e) => {
            e.stopPropagation(); // Prevent triggering the document unlocking listener if clicked directly
            toggleAudio();
        };

        // Initialize - No aggressive autoplay
        // tryAutoplay();

        // Auto-pause when tab is hidden, auto-resume when visible
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                if (isPlaying) audio.pause();
            } else {
                if (isPlaying) audio.play().catch(e => console.log("Resume failed:", e));
            }
        });
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('Service Worker registered', reg))
                    .catch(err => console.log('Service Worker registration failed', err));
            });
        }
    </script>
    <script>
        (function () { if (!window.chatbase || window.chatbase("getState") !== "initialized") { window.chatbase = (...arguments) => { if (!window.chatbase.q) { window.chatbase.q = [] } window.chatbase.q.push(arguments) }; window.chatbase = new Proxy(window.chatbase, { get(target, prop) { if (prop === "q") { return target.q } return (...args) => target(prop, ...args) } }) } const onLoad = function () { const script = document.createElement("script"); script.src = "https://www.chatbase.co/embed.min.js"; script.id = "Kylr35XioDnPQDFWW-AO5"; script.domain = "www.chatbase.co"; document.body.appendChild(script) }; if (document.readyState === "complete") { onLoad() } else { window.addEventListener("load", onLoad) } })();
    </script>
</body>

</html>